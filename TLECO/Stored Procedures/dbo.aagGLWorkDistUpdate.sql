SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
 CREATE                   procedure [dbo].[aagGLWorkDistUpdate]  @aaGLWorkHdrID int,  @aaGLWorkDistID int output,  @JRNENTRY int,  @CURNCYID char(15),  @CURRNIDX smallint,  @RATETPID char(15),  @EXGTBLID char(15),  @XCHGRATE numeric(19,7),  @EXCHDATE datetime,  @TIME1 datetime ,   @RTCLCMTD smallint,  @DENXRATE numeric(19,7),  @MCTRXSTT smallint,  @DECPLACS    smallint,  @TableName varchar(50) ,  @BalAmt numeric(19,5),  @CompanyID int Output,  @SqlSessionID int Output,  @INTERID char(5),  @Post int,  @OFFINDX int,  @RCTRXSEQ int = 0   as  begin   if @TableName = 'GL10001'   begin   exec aagUpdateGLEntryOpt @aaGLWorkHdrID, @JRNENTRY, @aaGLWorkDistID Output,   @CURNCYID,@CURRNIDX, @RATETPID,@EXGTBLID,  @XCHGRATE, @EXCHDATE,  @TIME1 , @RTCLCMTD, @DENXRATE, @MCTRXSTT,  @DECPLACS,@CompanyID, @SqlSessionID,@INTERID  end   if @TableName = 'GL10101'   begin  exec aagUpdateGLBusinessEntryOpt @aaGLWorkHdrID, @JRNENTRY, @aaGLWorkDistID Output,  @CURNCYID,@CURRNIDX,@EXGTBLID, @RATETPID,  @XCHGRATE, @EXCHDATE,  @TIME1 , @RTCLCMTD, @DENXRATE, @MCTRXSTT,  @DECPLACS, @CompanyID, @SqlSessionID,@BalAmt,@INTERID,@Post,@OFFINDX  end   if @TableName = 'GL20000'   begin  exec aagUpdateGLAllocEntry @aaGLWorkHdrID, @JRNENTRY, @aaGLWorkDistID Output,   @CURNCYID,@CURRNIDX, @RATETPID,@EXGTBLID,  @XCHGRATE, @EXCHDATE,  @TIME1 , @RTCLCMTD, @DENXRATE, @MCTRXSTT,  @DECPLACS,@CompanyID, @SqlSessionID,@INTERID, 0, @RCTRXSEQ  end   if @TableName = 'GL30000'   begin  exec aagUpdateGLAllocEntry @aaGLWorkHdrID, @JRNENTRY, @aaGLWorkDistID Output,   @CURNCYID,@CURRNIDX, @RATETPID,@EXGTBLID,  @XCHGRATE, @EXCHDATE,  @TIME1 , @RTCLCMTD, @DENXRATE, @MCTRXSTT,  @DECPLACS,@CompanyID, @SqlSessionID,@INTERID, 1, @RCTRXSEQ  end  end     
GO
GRANT EXECUTE ON  [dbo].[aagGLWorkDistUpdate] TO [DYNGRP]
GO
