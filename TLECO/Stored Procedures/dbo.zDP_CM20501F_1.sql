SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
 CREATE PROC [dbo].[zDP_CM20501F_1] (@CHEKBKID_RS char(15), @RECONUM_RS numeric(19,5), @DSTSQNUM_RS int, @CHEKBKID_RE char(15), @RECONUM_RE numeric(19,5), @DSTSQNUM_RE int) AS  set nocount on IF @CHEKBKID_RS IS NULL BEGIN SELECT TOP 25  CHEKBKID, CMRECNUM, RECONUM, DSTSQNUM, DSTINDX, TRXDATE, CMTrxType, TRXAMNT, POSTED, DistRef, CMTrxNum, GLPOSTDT, NOTEINDX, CURNCYID, CURRNIDX, RATETPID, EXGTBLID, XCHGRATE, EXCHDATE, TIME1, RTCLCMTD, EXPNDATE, DECPLCUR, DENXRATE, MCTRXSTT, DEX_ROW_ID FROM .CM20501 ORDER BY CHEKBKID ASC, RECONUM ASC, DSTSQNUM ASC END ELSE IF @CHEKBKID_RS = @CHEKBKID_RE BEGIN SELECT TOP 25  CHEKBKID, CMRECNUM, RECONUM, DSTSQNUM, DSTINDX, TRXDATE, CMTrxType, TRXAMNT, POSTED, DistRef, CMTrxNum, GLPOSTDT, NOTEINDX, CURNCYID, CURRNIDX, RATETPID, EXGTBLID, XCHGRATE, EXCHDATE, TIME1, RTCLCMTD, EXPNDATE, DECPLCUR, DENXRATE, MCTRXSTT, DEX_ROW_ID FROM .CM20501 WHERE CHEKBKID = @CHEKBKID_RS AND RECONUM BETWEEN @RECONUM_RS AND @RECONUM_RE AND DSTSQNUM BETWEEN @DSTSQNUM_RS AND @DSTSQNUM_RE ORDER BY CHEKBKID ASC, RECONUM ASC, DSTSQNUM ASC END ELSE BEGIN SELECT TOP 25  CHEKBKID, CMRECNUM, RECONUM, DSTSQNUM, DSTINDX, TRXDATE, CMTrxType, TRXAMNT, POSTED, DistRef, CMTrxNum, GLPOSTDT, NOTEINDX, CURNCYID, CURRNIDX, RATETPID, EXGTBLID, XCHGRATE, EXCHDATE, TIME1, RTCLCMTD, EXPNDATE, DECPLCUR, DENXRATE, MCTRXSTT, DEX_ROW_ID FROM .CM20501 WHERE CHEKBKID BETWEEN @CHEKBKID_RS AND @CHEKBKID_RE AND RECONUM BETWEEN @RECONUM_RS AND @RECONUM_RE AND DSTSQNUM BETWEEN @DSTSQNUM_RS AND @DSTSQNUM_RE ORDER BY CHEKBKID ASC, RECONUM ASC, DSTSQNUM ASC END set nocount off    
GO
GRANT EXECUTE ON  [dbo].[zDP_CM20501F_1] TO [DYNGRP]
GO
