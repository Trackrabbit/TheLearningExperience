SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
 CREATE PROC [dbo].[zDP_IV10300L_4] (@LSTCNTDT_RS datetime, @STCKCNTID_RS char(15), @LSTCNTDT_RE datetime, @STCKCNTID_RE char(15)) AS  set nocount on IF @LSTCNTDT_RS IS NULL BEGIN SELECT TOP 25  STCKCNTID, STCKCNTDSCRPTN, STCKCNTSTTS, DOCDATE, GLPOSTDT, NOTEINDX, CNTSTRTDT, CNTSTRTTM, ATPSTVRNC, RSSTCKCNT, DFLTCNTDT, DFLTCNTTM, LSTCNTDT, ENABLEMULTIBIN, LOCNCODE, DEX_ROW_ID FROM .IV10300 ORDER BY LSTCNTDT DESC, STCKCNTID DESC END ELSE IF @LSTCNTDT_RS = @LSTCNTDT_RE BEGIN SELECT TOP 25  STCKCNTID, STCKCNTDSCRPTN, STCKCNTSTTS, DOCDATE, GLPOSTDT, NOTEINDX, CNTSTRTDT, CNTSTRTTM, ATPSTVRNC, RSSTCKCNT, DFLTCNTDT, DFLTCNTTM, LSTCNTDT, ENABLEMULTIBIN, LOCNCODE, DEX_ROW_ID FROM .IV10300 WHERE LSTCNTDT = @LSTCNTDT_RS AND STCKCNTID BETWEEN @STCKCNTID_RS AND @STCKCNTID_RE ORDER BY LSTCNTDT DESC, STCKCNTID DESC END ELSE BEGIN SELECT TOP 25  STCKCNTID, STCKCNTDSCRPTN, STCKCNTSTTS, DOCDATE, GLPOSTDT, NOTEINDX, CNTSTRTDT, CNTSTRTTM, ATPSTVRNC, RSSTCKCNT, DFLTCNTDT, DFLTCNTTM, LSTCNTDT, ENABLEMULTIBIN, LOCNCODE, DEX_ROW_ID FROM .IV10300 WHERE LSTCNTDT BETWEEN @LSTCNTDT_RS AND @LSTCNTDT_RE AND STCKCNTID BETWEEN @STCKCNTID_RS AND @STCKCNTID_RE ORDER BY LSTCNTDT DESC, STCKCNTID DESC END set nocount off    
GO
GRANT EXECUTE ON  [dbo].[zDP_IV10300L_4] TO [DYNGRP]
GO
