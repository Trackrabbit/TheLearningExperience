SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
 CREATE PROC [dbo].[zDP_SY04100L_2] (@BANKNAME_RS char(31), @BANKID_RS char(15), @BANKNAME_RE char(31), @BANKID_RE char(15)) AS  set nocount on IF @BANKNAME_RS IS NULL BEGIN SELECT TOP 25  BANKID, BANKNAME, ADDRESS1, ADDRESS2, ADDRESS3, CITY, STATE, ZIPCODE, COUNTRY, PHNUMBR1, PHNUMBR2, PHONE3, FAXNUMBR, TRNSTNBR, BNKBRNCH, NOTEINDX, DDTRANUM, DEX_ROW_ID FROM .SY04100 ORDER BY BANKNAME DESC, BANKID DESC, DEX_ROW_ID DESC END ELSE IF @BANKNAME_RS = @BANKNAME_RE BEGIN SELECT TOP 25  BANKID, BANKNAME, ADDRESS1, ADDRESS2, ADDRESS3, CITY, STATE, ZIPCODE, COUNTRY, PHNUMBR1, PHNUMBR2, PHONE3, FAXNUMBR, TRNSTNBR, BNKBRNCH, NOTEINDX, DDTRANUM, DEX_ROW_ID FROM .SY04100 WHERE BANKNAME = @BANKNAME_RS AND BANKID BETWEEN @BANKID_RS AND @BANKID_RE ORDER BY BANKNAME DESC, BANKID DESC, DEX_ROW_ID DESC END ELSE BEGIN SELECT TOP 25  BANKID, BANKNAME, ADDRESS1, ADDRESS2, ADDRESS3, CITY, STATE, ZIPCODE, COUNTRY, PHNUMBR1, PHNUMBR2, PHONE3, FAXNUMBR, TRNSTNBR, BNKBRNCH, NOTEINDX, DDTRANUM, DEX_ROW_ID FROM .SY04100 WHERE BANKNAME BETWEEN @BANKNAME_RS AND @BANKNAME_RE AND BANKID BETWEEN @BANKID_RS AND @BANKID_RE ORDER BY BANKNAME DESC, BANKID DESC, DEX_ROW_ID DESC END set nocount off    
GO
GRANT EXECUTE ON  [dbo].[zDP_SY04100L_2] TO [DYNGRP]
GO
