SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
 CREATE PROC [dbo].[zDP_SVC00650N_2] (@BS int, @PRSCHDSC char(31), @PRICSHED char(11), @DEX_ROW_ID int, @PRSCHDSC_RS char(31), @PRICSHED_RS char(11), @PRSCHDSC_RE char(31), @PRICSHED_RE char(11)) AS  set nocount on IF @PRSCHDSC_RS IS NULL BEGIN SELECT TOP 25  PRICSHED, PRSCHDSC, DEX_ROW_ID FROM .SVC00650 WHERE ( PRSCHDSC = @PRSCHDSC AND PRICSHED = @PRICSHED AND DEX_ROW_ID > @DEX_ROW_ID OR PRSCHDSC = @PRSCHDSC AND PRICSHED > @PRICSHED OR PRSCHDSC > @PRSCHDSC ) ORDER BY PRSCHDSC ASC, PRICSHED ASC, DEX_ROW_ID ASC END ELSE IF @PRSCHDSC_RS = @PRSCHDSC_RE BEGIN SELECT TOP 25  PRICSHED, PRSCHDSC, DEX_ROW_ID FROM .SVC00650 WHERE PRSCHDSC = @PRSCHDSC_RS AND PRICSHED BETWEEN @PRICSHED_RS AND @PRICSHED_RE AND ( PRSCHDSC = @PRSCHDSC AND PRICSHED = @PRICSHED AND DEX_ROW_ID > @DEX_ROW_ID OR PRSCHDSC = @PRSCHDSC AND PRICSHED > @PRICSHED OR PRSCHDSC > @PRSCHDSC ) ORDER BY PRSCHDSC ASC, PRICSHED ASC, DEX_ROW_ID ASC END ELSE BEGIN SELECT TOP 25  PRICSHED, PRSCHDSC, DEX_ROW_ID FROM .SVC00650 WHERE PRSCHDSC BETWEEN @PRSCHDSC_RS AND @PRSCHDSC_RE AND PRICSHED BETWEEN @PRICSHED_RS AND @PRICSHED_RE AND ( PRSCHDSC = @PRSCHDSC AND PRICSHED = @PRICSHED AND DEX_ROW_ID > @DEX_ROW_ID OR PRSCHDSC = @PRSCHDSC AND PRICSHED > @PRICSHED OR PRSCHDSC > @PRSCHDSC ) ORDER BY PRSCHDSC ASC, PRICSHED ASC, DEX_ROW_ID ASC END set nocount off    
GO
GRANT EXECUTE ON  [dbo].[zDP_SVC00650N_2] TO [DYNGRP]
GO
