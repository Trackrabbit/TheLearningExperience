SET QUOTED_IDENTIFIER ON
GO
SET ANSI_NULLS ON
GO

CREATE Proc  [dbo].[DE_CREATEREFUNDPAYMENT]
@SOPNUMBER char(21)
,@CUSTNMBR char(15)
,@CUSTNAME char(60)
,@DOCAMNT numeric(19,2)
,@DOCDATE DATETIME
,@I_O_iErrorState int OUTPUT
,@I_oErrString varchar(255) OUTPUT



As
DECLARE @abc char(15)='PESRET' + CONVERT(varchar(10), getdate(), 112)
DECLARE @DOCNUMBR char(21)='PYMT' + @SOPNUMBER


Execute taCreateSopPaymentInsertRecord
@I_vSOPNUMBE=@SOPNUMBER,
@I_vSOPTYPE=4,
@I_vDOCDATE=@DOCDATE,
@I_vDOCAMNT=@DOCAMNT, --total kids
@I_vCHEKNMBR=@SOPNUMBER,
@I_VDOCNUMBR=@DOCNUMBR,	
@I_VCUSTNMBR=@CUSTNMBR,
@I_vPYMTTYPE=4,
@O_iErrorState = @I_O_iErrorState OUTPUT,
@oErrString = @I_oErrString OUTPUT  
GO
GRANT EXECUTE ON  [dbo].[DE_CREATEREFUNDPAYMENT] TO [DYNGRP]
GO
