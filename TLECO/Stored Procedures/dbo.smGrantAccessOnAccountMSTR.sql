SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
 create procedure [dbo].[smGrantAccessOnAccountMSTR] @O_iErrorState int = NULL output  as  declare @procname char(255)  select @O_iErrorState = 0  grant all on GL00100F1 to DYNGRP  grant all on GL00100F2 to DYNGRP  grant all on GL00100F3 to DYNGRP  grant all on GL00100F4 to DYNGRP  grant all on GL00100 to DYNGRP  grant all on GL00105 to DYNGRP  grant all on GL00201 to DYNGRP  grant all on MC10000 to DYNGRP  grant all on GL10110 to DYNGRP  grant all on GL10111 to DYNGRP  grant all on GL70500 to DYNGRP  grant all on GL70501 to DYNGRP  grant all on PM70500 to DYNGRP  grant all on RM00700 to DYNGRP  grant all on AF40201 to DYNGRP grant all on AF50001 to DYNGRP grant all on AF50000 to DYNGRP grant all on AF40104 to DYNGRP grant all on AF40105 to DYNGRP grant all on AF40103 to DYNGRP grant all on AF40106 to DYNGRP grant all on AF00100 to DYNGRP grant all on AF50300 to DYNGRP grant all on AF50200 to DYNGRP  grant all on IV70500 to DYNGRP  grant all on UPR70500 to DYNGRP  grant all on DTA00700 to DYNGRP  grant all on LK000003 to DYNGRP grant all on LK000103 to DYNGRP grant all on LK4000 to DYNGRP grant all on SE00400 to DYNGRP grant all on SE000401 to DYNGRP grant all on SE810000 to DYNGRP grant all on SE90001 to DYNGRP  DECLARE p_cursor CURSOR for   select 'grant all on  [' + name + '] to DYNGRP'  from  sysobjects   where   type = 'P'  and  (name like '%GL00100%'  or  name like '%GL00105%'  or  name like '%GL00201%'  or  name like '%MC10000%'  or  name like '%GL10110%'  or  name like '%GL10111%'  or  name like '%GL70500%'  or  name like '%GL70501%'  or  name like '%PM70500%'  or  name like '%RM00700%'  or  name like '%AF40201%'  or  name like '%AF50001%'  or  name like '%AF50000%'  or  name like '%AF40104%'  or  name like '%AF40105%'  or  name like '%AF40103%'  or  name like '%AF40106%'  or  name like '%AF00100%'  or  name like '%AF50200%'  or  name like '%AF50300%'  or  name like '%IV70500%'  or  name like '%UPR70500%'  or  name like '%DTA00700%'  or  name like '%LK000003%'  or  name like '%LK000103%'  or  name like '%LK4000%'  or  name like '%SE00400%'  or  name like '%SE000401%'  or  name like '%SE810000%'  or  name like '%SE90001%')   set NOCOUNT on  open p_cursor  FETCH NEXT FROM p_cursor INTO @procname  while (@@fetch_status <> -1)  begin  if (@@fetch_status <> -2)  begin  exec (@procname)  end  FETCH NEXT FROM p_cursor into @procname  end  DEALLOCATE p_cursor exec smCreateViews if exists (select * from dbo.sysobjects where id = Object_id('.glAccountIndexMasterDeleteTrig') and type = 'TR') begin  drop trigger dbo.glAccountIndexMasterDeleteTrig end if exists (select * from dbo.sysobjects where id = Object_id('.glAccountIndexMasterInsertTrig') and type = 'TR') begin  drop trigger dbo.glAccountIndexMasterInsertTrig end if exists (select * from dbo.sysobjects where id = Object_id('.glAccountIndexMasterUpdateTrig') and type = 'TR') begin  drop trigger dbo.glAccountIndexMasterUpdateTrig end if exists (select * from dbo.sysobjects where id = Object_id('.glpAccountMasterDeleteTrigger') and type = 'TR') begin  drop trigger dbo.glpAccountMasterDeleteTrigger end if exists (select * from dbo.sysobjects where id = Object_id('.glpAccountMasterUpdateTrigger') and type = 'TR') begin  drop trigger dbo.glpAccountMasterUpdateTrigger end if exists (select * from dbo.sysobjects where id = Object_id('.glpAccountMasterInsertTrigger') and type = 'TR') begin  drop trigger dbo.glpAccountMasterInsertTrigger end exec smAccountMasterDeleteTrigger exec smAccountMasterUpdateTrigger exec smAccountMasterInsertTrigger  if exists (select * from dbo.sysobjects where id = Object_id('.glFilter1InsertTrigger') and type = 'TR') begin  drop trigger dbo.glFilter1InsertTrigger end if exists (select * from dbo.sysobjects where id = Object_id('.glFilter2InsertTrigger') and type = 'TR') begin  drop trigger dbo.glFilter2InsertTrigger end if exists (select * from dbo.sysobjects where id = Object_id('.glFilter3InsertTrigger') and type = 'TR') begin  drop trigger dbo.glFilter3InsertTrigger end if exists (select * from dbo.sysobjects where id = Object_id('.glFilter4InsertTrigger') and type = 'TR') begin  drop trigger dbo.glFilter4InsertTrigger end if exists (select * from dbo.sysobjects where id = Object_id('.glFilter1UpdateTrigger') and type = 'TR') begin  drop trigger dbo.glFilter1UpdateTrigger end if exists (select * from dbo.sysobjects where id = Object_id('.glFilter2UpdateTrigger') and type = 'TR') begin  drop trigger dbo.glFilter2UpdateTrigger end if exists (select * from dbo.sysobjects where id = Object_id('.glFilter3UpdateTrigger') and type = 'TR') begin  drop trigger dbo.glFilter3UpdateTrigger end if exists (select * from dbo.sysobjects where id = Object_id('.glFilter4UpdateTrigger') and type = 'TR') begin  drop trigger dbo.glFilter4UpdateTrigger end  exec smAccountMasterFilterTriggers exec smRecompile return    
GO
GRANT EXECUTE ON  [dbo].[smGrantAccessOnAccountMSTR] TO [DYNGRP]
GO
