SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
 create procedure [dbo].[glCalcRMBeginningBalance]  @iStartDate varchar(25),  @oBeginBal money OUTPUT  AS  DECLARE  @lSQLError int  SELECT  TRXSORCE,   DOCNUMBR,  (SUM(DEBITAMT) - SUM(CRDTAMNT)) AS ONACCOUNT INTO  #BEGINBAL FROM  RM10101 WHERE  PSTGSTUS = 1 AND  (DISTTYPE = 3 OR DISTTYPE = 5) AND  POSTEDDT < @iStartDate GROUP BY  TRXSORCE,  DOCNUMBR  INSERT INTO  #BEGINBAL SELECT  TRXSORCE,  DOCNUMBR,  (SUM(DEBITAMT) - SUM(CRDTAMNT)) FROM  RM30301 WHERE  (DISTTYPE = 3 OR DISTTYPE = 5) AND  POSTEDDT < @iStartDate GROUP BY  TRXSORCE,   DOCNUMBR  SELECT  @oBeginBal = SUM(ONACCOUNT) FROM  #BEGINBAL  RETURN (@lSQLError)    
GO
GRANT EXECUTE ON  [dbo].[glCalcRMBeginningBalance] TO [DYNGRP]
GO
