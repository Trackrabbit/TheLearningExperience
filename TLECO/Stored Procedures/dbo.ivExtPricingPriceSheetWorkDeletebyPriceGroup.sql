SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
 CREATE       PROCEDURE [dbo].[ivExtPricingPriceSheetWorkDeletebyPriceGroup]  @ITEMNMBR  char(31) AS  DECLARE  @loST_ItemType char(1),  @loST_ItemNumber char(31),  @PRCSCHID char(15)  DECLARE sctcsSOPTR00002_SW_DEL CURSOR FOR SELECT PRCSHID, EPITMTYP, ITEMNMBR FROM IV10401 WHERE ITEMNMBR = @ITEMNMBR  OPEN sctcsSOPTR00002_SW_DEL FETCH sctcsSOPTR00002_SW_DEL INTO @PRCSCHID, @loST_ItemType, @loST_ItemNumber  WHILE @@FETCH_STATUS = 0 BEGIN   DELETE FROM IV10402  WHERE PRCSHID = @PRCSCHID  AND EPITMTYP = @loST_ItemType  AND ITEMNMBR = @ITEMNMBR   DELETE IV10403  FROM IV10403  WHERE IV10403.PRCSHID = @PRCSCHID  AND IV10403.EPITMTYP = @loST_ItemType  AND IV10403.ITEMNMBR = @loST_ItemNumber   FETCH sctcsSOPTR00002_SW_DEL INTO  @PRCSCHID,@loST_ItemType, @loST_ItemNumber END  CLOSE sctcsSOPTR00002_SW_DEL DEALLOCATE sctcsSOPTR00002_SW_DEL  DELETE  IV10401  FROM IV10401  WHERE  IV10401.ITEMNMBR = @ITEMNMBR    
GO
GRANT EXECUTE ON  [dbo].[ivExtPricingPriceSheetWorkDeletebyPriceGroup] TO [DYNGRP]
GO
