SET QUOTED_IDENTIFIER ON
GO
SET ANSI_NULLS ON
GO
 create procedure [dbo].[SVC_MailProcessReport] @rectype integer, @custnmbr varchar(20) as SELECT  SVC00200.CALLNBR      'Call Number',   isnull(SVC00200.SVCDESCR,'')   'Description',   ISNULL(SVC00920.DSCRIPTN,'')    'Type of Service',  convert(varchar(10),SVC00200.ENTDTE,101) 'Entry Date',   isnull(SVC00913.STSDESCR,'')   'Current Status',  isnull(IV00101.ITEMDESC,'')     'Product',  isnull(SVC00200.CNTCPRSN,'')   'Reported By',  isnull(SVC00907.DSCRIPTN,'')    'Reported Problem',   isnull(SVC00901.DSCRIPTN,'')    'Cause',  isnull(SVC00908.DSCRIPTN,'')    'Resolution',   char(13) + '  ',  isnull(convert(varchar(255),SY03900.TXTFIELD),'')  FROM SVC00200 LEFT OUTER JOIN   SY03900  ON (SVC00200.NOTEINDX = SY03900.NOTEINDX) LEFT OUTER JOIN   SVC00201 ON (SVC00200.SRVRECTYPE = SVC00201.SRVRECTYPE and SVC00200.CALLNBR = SVC00201.CALLNBR) LEFT OUTER JOIN   SVC00907 ON (SVC00201.PROBCDE = SVC00907.PROBCDE) LEFT OUTER JOIN   SVC00901 ON (SVC00201.CAUSECDE = SVC00901.CAUSECDE) LEFT OUTER JOIN  SVC00908 ON (SVC00201.RPRCODE = SVC00908.RPRCODE) LEFT OUTER JOIN   SVC00920 ON (SVC00200.SRVTYPE = SVC00920.SRVTYPE) LEFT OUTER JOIN  IV00101  ON (SVC00201.ITEMNMBR = IV00101.ITEMNMBR) LEFT OUTER JOIN  SVC00913 ON (SVC00200.SRVSTAT = SVC00913.SRVSTAT)  WHERE SVC00200.SRVRECTYPE = @rectype AND SVC00200.CUSTNMBR = @custnmbr    
GO
GRANT EXECUTE ON  [dbo].[SVC_MailProcessReport] TO [DYNGRP]
GO
