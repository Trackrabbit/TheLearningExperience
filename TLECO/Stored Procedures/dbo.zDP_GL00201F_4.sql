SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
CREATE PROC [dbo].[zDP_GL00201F_4] (@ACCATNUM_RS smallint, @BUDGETID_RS char(15), @PERIODID_RS smallint, @ACTNUMBR_1_RS char(5), @ACTNUMBR_2_RS char(5), @ACTNUMBR_3_RS char(3), @ACTNUMBR_4_RS char(3), @ACCATNUM_RE smallint, @BUDGETID_RE char(15), @PERIODID_RE smallint, @ACTNUMBR_1_RE char(5), @ACTNUMBR_2_RE char(5), @ACTNUMBR_3_RE char(3), @ACTNUMBR_4_RE char(3)) AS /* 14.00.0084.000 */ set nocount on IF @ACCATNUM_RS IS NULL BEGIN SELECT TOP 25  BUDGETID, ACTNUMBR_1, ACTNUMBR_2, ACTNUMBR_3, ACTNUMBR_4, PERIODDT, PERIODID, BUDGETAMT, ACCATNUM, ACTINDX, YEAR1, DEX_ROW_TS, DEX_ROW_ID FROM .GL00201 ORDER BY ACCATNUM ASC, BUDGETID ASC, PERIODID ASC, ACTNUMBR_1 ASC, ACTNUMBR_2 ASC, ACTNUMBR_3 ASC, ACTNUMBR_4 ASC, DEX_ROW_ID ASC END ELSE IF @ACCATNUM_RS = @ACCATNUM_RE BEGIN SELECT TOP 25  BUDGETID, ACTNUMBR_1, ACTNUMBR_2, ACTNUMBR_3, ACTNUMBR_4, PERIODDT, PERIODID, BUDGETAMT, ACCATNUM, ACTINDX, YEAR1, DEX_ROW_TS, DEX_ROW_ID FROM .GL00201 WHERE ACCATNUM = @ACCATNUM_RS AND BUDGETID BETWEEN @BUDGETID_RS AND @BUDGETID_RE AND PERIODID BETWEEN @PERIODID_RS AND @PERIODID_RE AND ACTNUMBR_1 BETWEEN @ACTNUMBR_1_RS AND @ACTNUMBR_1_RE AND ACTNUMBR_2 BETWEEN @ACTNUMBR_2_RS AND @ACTNUMBR_2_RE AND ACTNUMBR_3 BETWEEN @ACTNUMBR_3_RS AND @ACTNUMBR_3_RE AND ACTNUMBR_4 BETWEEN @ACTNUMBR_4_RS AND @ACTNUMBR_4_RE ORDER BY ACCATNUM ASC, BUDGETID ASC, PERIODID ASC, ACTNUMBR_1 ASC, ACTNUMBR_2 ASC, ACTNUMBR_3 ASC, ACTNUMBR_4 ASC, DEX_ROW_ID ASC END ELSE BEGIN SELECT TOP 25  BUDGETID, ACTNUMBR_1, ACTNUMBR_2, ACTNUMBR_3, ACTNUMBR_4, PERIODDT, PERIODID, BUDGETAMT, ACCATNUM, ACTINDX, YEAR1, DEX_ROW_TS, DEX_ROW_ID FROM .GL00201 WHERE ACCATNUM BETWEEN @ACCATNUM_RS AND @ACCATNUM_RE AND BUDGETID BETWEEN @BUDGETID_RS AND @BUDGETID_RE AND PERIODID BETWEEN @PERIODID_RS AND @PERIODID_RE AND ACTNUMBR_1 BETWEEN @ACTNUMBR_1_RS AND @ACTNUMBR_1_RE AND ACTNUMBR_2 BETWEEN @ACTNUMBR_2_RS AND @ACTNUMBR_2_RE AND ACTNUMBR_3 BETWEEN @ACTNUMBR_3_RS AND @ACTNUMBR_3_RE AND ACTNUMBR_4 BETWEEN @ACTNUMBR_4_RS AND @ACTNUMBR_4_RE ORDER BY ACCATNUM ASC, BUDGETID ASC, PERIODID ASC, ACTNUMBR_1 ASC, ACTNUMBR_2 ASC, ACTNUMBR_3 ASC, ACTNUMBR_4 ASC, DEX_ROW_ID ASC END set nocount off 
GO
GRANT EXECUTE ON  [dbo].[zDP_GL00201F_4] TO [DYNGRP]
GO
