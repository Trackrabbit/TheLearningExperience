SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
 create procedure [dbo].[taCreateEmployeePayCode] @I_vEMPLOYID char(15),     @I_vPAYRCORD char(6),     @I_vINACTIVE tinyint=0,     @I_vBSPAYRCD char(6)=null,    @I_vPAYRTAMT numeric(19,5)=null,   @I_vPAYUNIT char(25)=null,    @I_vPAYUNPER smallint=null,     @I_vRPTASWGS tinyint=null,    @I_vSBJTFDTX tinyint=null,    @I_vSBJTSSEC tinyint=null,    @I_vSBJTMCAR tinyint=null,    @I_vSBJTSTTX tinyint=null,    @I_vSBJTLTAX tinyint=null,    @I_vSBJTFUTA tinyint=null,    @I_vSBJTSUTA tinyint=null,    @I_vSUTASTAT char(2)='',    @I_vFFEDTXRT numeric(19,2)=null,   @I_vFLSTTXRT numeric(19,2)=null,   @I_vPAYPEROD smallint=null,    @I_vMXPYPPER numeric(19,5)=null,   @I_vTipType smallint=null,    @I_vPAYADVNC numeric(19,5)=null,   @I_vACRUVACN tinyint=null,    @I_vACRUSTIM tinyint=null,    @I_vWRKRCOMP char(6)='',    @I_vW2BXNMBR smallint=null,    @I_vW2BXLABL char(6)=null,    @I_vW2BXNMBR2 smallint=null,    @I_vW2BXLABL2 char(6)=null,    @I_vW2BXNMBR3 smallint=null,   @I_vW2BXLABL3 char(6)=null,    @I_vW2BXNMBR4 smallint=null,   @I_vW2BXLABL4 char(6)=null,    @I_vPYADVTKN numeric(19,5)=0,    @I_vDATAENTDFLT tinyint=null,    @I_vPrimary_Pay_Record tinyint=0,   @I_vSHFTCODE char(6)=null,    @I_vPAYFACTR numeric(19,5)=null,   @I_vUseDefaultCoPayCode smallint=1,    @I_vUpdateIfExists tinyint=1,    @I_vRequesterTrx smallint=0,    @I_vUSRDEFND1 char(50) = '',        @I_vUSRDEFND2 char(50) = '',        @I_vUSRDEFND3 char(50) = '',        @I_vUSRDEFND4 varchar(8000) = '',   @I_vUSRDEFND5 varchar(8000) = '',   @O_iErrorState int output,    @oErrString varchar(255) output     with encryption as  set transaction isolation level read uncommitted set nocount on  declare  @BSDONRTE numeric(19,5),    @PAYTYPE smallint,     @PAYPRPRD numeric(19,5),    @TAXABLE smallint,     @sCompanyID int,  @iCustomState int,  @iStatus int,  @O_oErrorState int,  @nNextNoteIndex numeric(19,5),    @iGetNextNoteIdxErrState int,    @iError int,      @DBName char(50),     @iAddCodeErrState int,  @DecPlaces int select  @BSDONRTE = 0,      @PAYTYPE = 0,      @PAYPRPRD = 0,      @TAXABLE = 1,      @O_iErrorState = 0,     @O_oErrorState = 0,  @sCompanyID = CMPANYID from DYNAMICS..SY01500 where INTERID = db_name()  select @DecPlaces = 0 if (@oErrString is NULL) begin  select @oErrString = '' end  exec @iStatus = taCreateEmployeePayCodePre  @I_vEMPLOYID output,  @I_vPAYRCORD output,  @I_vINACTIVE output,  @I_vBSPAYRCD output,  @I_vPAYRTAMT output,  @I_vPAYUNIT output,  @I_vPAYUNPER output,  @I_vRPTASWGS output,  @I_vSBJTFDTX output,  @I_vSBJTSSEC output,  @I_vSBJTMCAR output,  @I_vSBJTSTTX output,  @I_vSBJTLTAX output,  @I_vSBJTFUTA output,  @I_vSBJTSUTA output,  @I_vSUTASTAT output,  @I_vFFEDTXRT output,  @I_vFLSTTXRT output,  @I_vPAYPEROD output,  @I_vMXPYPPER output,  @I_vTipType output,  @I_vPAYADVNC output,  @I_vACRUVACN output,  @I_vACRUSTIM output,  @I_vWRKRCOMP output,  @I_vW2BXNMBR output,  @I_vW2BXLABL output,  @I_vW2BXNMBR2 output,   @I_vW2BXLABL2 output,   @I_vW2BXNMBR3 output,   @I_vW2BXLABL3 output,   @I_vW2BXNMBR4 output,   @I_vW2BXLABL4 output,   @I_vPYADVTKN output,  @I_vDATAENTDFLT output,  @I_vPrimary_Pay_Record output,  @I_vSHFTCODE output,  @I_vPAYFACTR output,     @I_vUseDefaultCoPayCode output,  @I_vUpdateIfExists output,  @I_vRequesterTrx output,  @I_vUSRDEFND1 output,  @I_vUSRDEFND2 output,  @I_vUSRDEFND3 output,  @I_vUSRDEFND4 output,  @I_vUSRDEFND5 output,  @O_iErrorState = @iCustomState output,  @oErrString = @oErrString  output select @iError = @@error if @iStatus = 0 and @iError <> 0 begin  select @iStatus = @iError end if (@iStatus <> 0) or (@iCustomState <> 0) begin  select @O_iErrorState = 4593    exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @O_oErrorState output  return (@O_iErrorState) end  if (  @I_vEMPLOYID is NULL or  @I_vPAYRCORD is NULL or  @I_vINACTIVE is NULL or  @I_vSUTASTAT is NULL or  @I_vWRKRCOMP is NULL or  @I_vPYADVTKN is NULL or  @I_vUseDefaultCoPayCode is NULL or  @I_vUpdateIfExists is NULL or  @I_vRequesterTrx is NULL or  @I_vUSRDEFND1  is NULL or  @I_vUSRDEFND2  is NULL or  @I_vUSRDEFND3  is NULL or  @I_vUSRDEFND4  is NULL or  @I_vUSRDEFND5  is NULL  ) begin  select @O_iErrorState = 4419    exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  select @I_vEMPLOYID = UPPER(@I_vEMPLOYID),  @I_vPAYRCORD = UPPER(@I_vPAYRCORD),  @I_vBSPAYRCD = UPPER(@I_vBSPAYRCD),  @I_vSHFTCODE = UPPER(@I_vSHFTCODE),  @I_vWRKRCOMP = UPPER(@I_vWRKRCOMP),  @I_vSUTASTAT = UPPER(@I_vSUTASTAT)  if ( @I_vEMPLOYID = '' ) begin  select @O_iErrorState = 4420    exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vEMPLOYID <> '' ) begin  if (not exists (select 1 from UPR00100 (nolock) where EMPLOYID = @I_vEMPLOYID ))  begin  select @O_iErrorState = 4421    exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output  end end  if (@I_vEMPLOYID <> '') and (@I_vINACTIVE = 0) begin  if (exists (select 1 from UPR00100 (nolock) where EMPLOYID = @I_vEMPLOYID and INACTIVE = 1))  begin  select @I_vINACTIVE = 1  end  end   if ( @I_vPAYRCORD = '' ) begin  select @O_iErrorState = 4422    exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vPAYRCORD <> '' ) begin  if (not exists (select 1 from UPR40600 (nolock) where PAYRCORD = @I_vPAYRCORD ))  begin  select @O_iErrorState = 4423    exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output  end end  if ( @I_vUseDefaultCoPayCode < 0 or @I_vUseDefaultCoPayCode > 1 ) begin  select @O_iErrorState = 4424     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  select  @PAYTYPE = PAYTYPE from UPR40600 (nolock) where PAYRCORD = @I_vPAYRCORD   if ( @I_vSUTASTAT = '' ) begin  select @I_vSUTASTAT = SUTASTAT from UPR00100 (nolock) where EMPLOYID = @I_vEMPLOYID  end   if ( @I_vWRKRCOMP = '' ) begin  select @I_vWRKRCOMP = WRKRCOMP from UPR00100 (nolock) where EMPLOYID = @I_vEMPLOYID end   if (@PAYTYPE in (6,7)) and (@I_vBSPAYRCD is null) and (@I_vUseDefaultCoPayCode = 0) begin  select @O_iErrorState = 8160     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end   if (@I_vUseDefaultCoPayCode = 1) and (@I_vPAYRTAMT is not null) and (@I_vPAYFACTR is null)  begin  select @I_vPAYFACTR = 0  end  if (@I_vUseDefaultCoPayCode = 1) and (@I_vPAYFACTR is not null) and (@I_vPAYRTAMT is null)  begin  select @I_vPAYRTAMT = 0  end  if ( @I_vUseDefaultCoPayCode = 0 ) and (@I_vBSPAYRCD = '' or @I_vBSPAYRCD is null)    begin  select @I_vBSPAYRCD =  case  WHEN @I_vBSPAYRCD is null  THEN ''  ELSE @I_vBSPAYRCD  end,  @I_vPAYRTAMT =  case  WHEN @I_vPAYRTAMT is null  THEN 0  ELSE @I_vPAYRTAMT  end,  @I_vPAYUNIT =  case  WHEN @I_vPAYUNIT is null  THEN ''  ELSE @I_vPAYUNIT  end,  @I_vPAYUNPER =  case   WHEN @I_vPAYUNPER is null   THEN 1  ELSE @I_vPAYUNPER  end,  @I_vRPTASWGS =  case  WHEN @I_vRPTASWGS is null   THEN 0  ELSE @I_vRPTASWGS  end,  @I_vSBJTFDTX =  case  WHEN @I_vSBJTFDTX is null  THEN 0  ELSE @I_vSBJTFDTX  end,  @I_vSBJTSSEC =  case  WHEN @I_vSBJTSSEC is null   THEN 0  ELSE @I_vSBJTSSEC  end,  @I_vSBJTMCAR =  case  WHEN @I_vSBJTMCAR is null  THEN 0  ELSE @I_vSBJTMCAR  end,  @I_vSBJTSTTX =  case  WHEN @I_vSBJTSTTX is null   THEN 0  ELSE @I_vSBJTSTTX  end,  @I_vSBJTLTAX =  case  WHEN @I_vSBJTLTAX is null   THEN 0  ELSE @I_vSBJTLTAX  end,  @I_vSBJTFUTA =  case  WHEN @I_vSBJTFUTA is null   THEN 0  ELSE @I_vSBJTFUTA  end,  @I_vSBJTSUTA =  case  WHEN @I_vSBJTSUTA is null   THEN 0  ELSE @I_vSBJTSUTA  end,  @I_vFFEDTXRT =  case  WHEN @I_vFFEDTXRT is null   THEN 0  ELSE @I_vFFEDTXRT   end,  @I_vFLSTTXRT =  case  WHEN @I_vFLSTTXRT is null   THEN 0  ELSE @I_vFLSTTXRT   end,  @I_vPAYPEROD =  case  WHEN @I_vPAYPEROD is null   THEN 1  ELSE @I_vPAYPEROD  end,  @I_vMXPYPPER =  case  WHEN @I_vMXPYPPER is null   THEN 0  ELSE @I_vMXPYPPER  end,  @I_vTipType =  case  WHEN @I_vTipType is null  THEN 1  ELSE @I_vTipType  end,  @I_vPAYADVNC =  case  WHEN @I_vPAYADVNC is null  THEN 0  ELSE @I_vPAYADVNC  end,  @I_vACRUVACN =  case  WHEN @I_vACRUVACN is null   THEN 0  ELSE @I_vACRUVACN  end,  @I_vACRUSTIM =  case  WHEN @I_vACRUSTIM is null   THEN 0  ELSE @I_vACRUSTIM  end,  @I_vW2BXNMBR =  case  WHEN @I_vW2BXNMBR is null   THEN 0  ELSE @I_vW2BXNMBR  end,  @I_vW2BXLABL =  case  WHEN @I_vW2BXLABL is null  THEN ''  ELSE @I_vW2BXLABL  end,  @I_vW2BXNMBR2 =  case  WHEN @I_vW2BXNMBR2 is null   THEN 0  ELSE @I_vW2BXNMBR2  end,   @I_vW2BXLABL2  =  case  WHEN @I_vW2BXLABL2 is null  THEN ''  ELSE @I_vW2BXLABL2  end,  @I_vW2BXNMBR3 =  case  WHEN @I_vW2BXNMBR3 is null   THEN 0  ELSE @I_vW2BXNMBR3  end,   @I_vW2BXLABL3  =  case  WHEN @I_vW2BXLABL3 is null  THEN ''  ELSE @I_vW2BXLABL3  end,  @I_vW2BXNMBR4 =  case  WHEN @I_vW2BXNMBR4 is null   THEN 0  ELSE @I_vW2BXNMBR4  end,   @I_vW2BXLABL4 =  case  WHEN @I_vW2BXLABL4 is null  THEN ''  ELSE @I_vW2BXLABL4  end,  @I_vDATAENTDFLT =  case  WHEN @I_vDATAENTDFLT is null   THEN 0  ELSE @I_vDATAENTDFLT  end,  @I_vSHFTCODE =  case  WHEN @I_vSHFTCODE is null  THEN ''  ELSE @I_vSHFTCODE  end,  @I_vPAYFACTR =   case   WHEN @I_vPAYFACTR is null   THEN 0   ELSE @I_vPAYFACTR  end end   else  if (@I_vUseDefaultCoPayCode = 0) and (@I_vBSPAYRCD <> '') and (@PAYTYPE in (6,7)) begin  select   @I_vPAYRTAMT =  case  WHEN @I_vPAYRTAMT is null  THEN 0  ELSE @I_vPAYRTAMT  end,  @I_vPAYUNIT =  case  WHEN @I_vPAYUNIT is null  THEN PAYUNIT  ELSE @I_vPAYUNIT  end,  @I_vPAYUNPER =  case   WHEN @I_vPAYUNPER is null   THEN PAYUNPER  ELSE @I_vPAYUNPER  end,  @I_vRPTASWGS =  case  WHEN @I_vRPTASWGS is null   THEN RPTASWGS  ELSE @I_vRPTASWGS  end,  @I_vSBJTFDTX =  case  WHEN @I_vSBJTFDTX is null  THEN SBJTFDTX  ELSE @I_vSBJTFDTX  end,  @I_vSBJTSSEC =  case  WHEN @I_vSBJTSSEC is null   THEN SBJTSSEC  ELSE @I_vSBJTSSEC  end,  @I_vSBJTMCAR =  case  WHEN @I_vSBJTMCAR is null  THEN SBJTMCAR  ELSE @I_vSBJTMCAR  end,  @I_vSBJTSTTX =  case  WHEN @I_vSBJTSTTX is null   THEN SBJTSTTX  ELSE @I_vSBJTSTTX  end,  @I_vSBJTLTAX =  case  WHEN @I_vSBJTLTAX is null   THEN SBJTLTAX  ELSE @I_vSBJTLTAX  end,  @I_vSBJTFUTA =  case  WHEN @I_vSBJTFUTA is null   THEN SBJTFUTA  ELSE @I_vSBJTFUTA  end,  @I_vSBJTSUTA =  case  WHEN @I_vSBJTSUTA is null   THEN SBJTSUTA  ELSE @I_vSBJTSUTA  end,  @I_vFFEDTXRT =  case  WHEN @I_vFFEDTXRT is null   THEN FFEDTXRT  ELSE @I_vFFEDTXRT   end,  @I_vFLSTTXRT =  case  WHEN @I_vFLSTTXRT is null   THEN FLSTTXRT  ELSE @I_vFLSTTXRT   end,  @I_vPAYPEROD =  case  WHEN @I_vPAYPEROD is null   THEN PAYPEROD  ELSE @I_vPAYPEROD  end,  @I_vMXPYPPER =  case  WHEN @I_vMXPYPPER is null   THEN MXPYPPER  ELSE @I_vMXPYPPER  end,  @I_vTipType =  case  WHEN @I_vTipType is null  THEN TipType  ELSE @I_vTipType  end,  @I_vPAYADVNC =  case  WHEN @I_vPAYADVNC is null  THEN PAYADVNC  ELSE @I_vPAYADVNC  end,  @I_vACRUVACN =  case  WHEN @I_vACRUVACN is null   THEN ACRUVACN  ELSE @I_vACRUVACN  end,  @I_vACRUSTIM =  case  WHEN @I_vACRUSTIM is null   THEN ACRUSTIM  ELSE @I_vACRUSTIM  end,  @I_vW2BXNMBR =  case  WHEN @I_vW2BXNMBR is null   THEN W2BXNMBR  ELSE @I_vW2BXNMBR  end,  @I_vW2BXLABL =  case  WHEN @I_vW2BXLABL is null  THEN W2BXLABL  ELSE @I_vW2BXLABL  end,  @I_vW2BXNMBR2  =  case  WHEN @I_vW2BXNMBR2 is null   THEN W2BXNMBR2  ELSE @I_vW2BXNMBR2  end,  @I_vW2BXLABL2  =  case  WHEN @I_vW2BXLABL2 is null  THEN W2BXLABL2  ELSE @I_vW2BXLABL2  end,  @I_vW2BXNMBR3  =  case  WHEN @I_vW2BXNMBR3 is null   THEN W2BXNMBR3  ELSE @I_vW2BXNMBR3  end,  @I_vW2BXLABL3  =  case  WHEN @I_vW2BXLABL3 is null  THEN W2BXLABL3  ELSE @I_vW2BXLABL3  end,   @I_vW2BXNMBR4  =  case  WHEN @I_vW2BXNMBR4 is null   THEN W2BXNMBR4  ELSE @I_vW2BXNMBR4  end,  @I_vW2BXLABL4  =  case  WHEN @I_vW2BXLABL4 is null  THEN W2BXLABL4  ELSE @I_vW2BXLABL4  end,   @I_vDATAENTDFLT =  case  WHEN @I_vDATAENTDFLT is null   THEN DATAENTDFLT  ELSE @I_vDATAENTDFLT  end,  @I_vSHFTCODE =  case  WHEN @I_vSHFTCODE is null  THEN SHFTCODE  ELSE @I_vSHFTCODE  end,  @I_vPAYFACTR =   case   WHEN @I_vPAYFACTR is null   THEN 0   ELSE @I_vPAYFACTR  end  from UPR00400 (nolock) where EMPLOYID = @I_vEMPLOYID and PAYRCORD = @I_vBSPAYRCD end  if ( @I_vUseDefaultCoPayCode = 1 )  begin  select @I_vBSPAYRCD =  case  WHEN @I_vBSPAYRCD is null  THEN BSPAYRCD  ELSE @I_vBSPAYRCD  end,  @I_vPAYRTAMT =  case  WHEN @I_vPAYRTAMT is null   THEN PAYRTAMT  ELSE @I_vPAYRTAMT  end,  @I_vPAYUNIT =  case  WHEN @I_vPAYUNIT is null  THEN PAYUNIT  ELSE @I_vPAYUNIT  end,  @I_vPAYUNPER =  case  WHEN @I_vPAYUNPER is null   THEN PAYUNPER  ELSE @I_vPAYUNPER  end,  @I_vRPTASWGS =  case  WHEN @I_vRPTASWGS is null   THEN RPTASWGS  ELSE @I_vRPTASWGS  end,  @I_vSBJTFDTX =  case  WHEN @I_vSBJTFDTX is null   THEN SBJTFDTX  ELSE @I_vSBJTFDTX  end,  @I_vSBJTSSEC =  case  WHEN @I_vSBJTSSEC is null   THEN SBJTSSEC  ELSE @I_vSBJTSSEC  end,  @I_vSBJTMCAR =  case  WHEN @I_vSBJTMCAR is null   THEN SBJTMCAR  ELSE @I_vSBJTMCAR  end,  @I_vSBJTSTTX =  case  WHEN @I_vSBJTSTTX is null   THEN SBJTSTTX  ELSE @I_vSBJTSTTX  end,  @I_vSBJTLTAX =  case  WHEN @I_vSBJTLTAX is null   THEN SBJTLTAX  ELSE @I_vSBJTLTAX  end,  @I_vSBJTFUTA =  case  WHEN @I_vSBJTFUTA is null   THEN SBJTFUTA  ELSE @I_vSBJTFUTA  end,  @I_vSBJTSUTA =  case  WHEN @I_vSBJTSUTA is null   THEN SBJTSUTA  ELSE @I_vSBJTSUTA  end,  @I_vFFEDTXRT =  case  WHEN @I_vFFEDTXRT is null  THEN FFEDTXRT * .01    ELSE @I_vFFEDTXRT  end,  @I_vFLSTTXRT =  case  WHEN @I_vFLSTTXRT is null   THEN FLSTTXRT * .01    ELSE @I_vFLSTTXRT  end,  @I_vPAYPEROD =  case  WHEN @I_vPAYPEROD is null   THEN PAYPEROD  ELSE @I_vPAYPEROD  end,  @I_vMXPYPPER =   case  WHEN @I_vMXPYPPER is null   THEN MXPYPPER  ELSE @I_vMXPYPPER  end,  @I_vTipType =  case  WHEN @I_vTipType is null   THEN TipType  ELSE @I_vTipType  end,  @I_vPAYADVNC =  case  WHEN @I_vPAYADVNC is null   THEN PAYADVNC  ELSE @I_vPAYADVNC  end,  @I_vACRUVACN =  case  WHEN @I_vACRUVACN is null   THEN ACRUVACN  ELSE @I_vACRUVACN  end,  @I_vACRUSTIM =  case  WHEN @I_vACRUSTIM is null   THEN ACRUSTIM  ELSE @I_vACRUSTIM  end,  @I_vW2BXNMBR =  case  WHEN @I_vW2BXNMBR is null   THEN W2BXNMBR  ELSE @I_vW2BXNMBR  end,  @I_vW2BXLABL =  case  WHEN @I_vW2BXLABL is null  THEN W2BXLABL  ELSE @I_vW2BXLABL  end,  @I_vW2BXNMBR2  =  case  WHEN @I_vW2BXNMBR2 is null   THEN W2BXNMBR2  ELSE @I_vW2BXNMBR2  end,  @I_vW2BXLABL2  =  case  WHEN @I_vW2BXLABL2 is null  THEN W2BXLABL2  ELSE @I_vW2BXLABL2  end,  @I_vW2BXNMBR3  =  case  WHEN @I_vW2BXNMBR3 is null   THEN W2BXNMBR3  ELSE @I_vW2BXNMBR3  end,  @I_vW2BXLABL3  =  case  WHEN @I_vW2BXLABL3 is null  THEN W2BXLABL3  ELSE @I_vW2BXLABL3  end,   @I_vW2BXNMBR4  =  case  WHEN @I_vW2BXNMBR4 is null   THEN W2BXNMBR4  ELSE @I_vW2BXNMBR4  end,  @I_vW2BXLABL4  =  case  WHEN @I_vW2BXLABL4 is null  THEN W2BXLABL4  ELSE @I_vW2BXLABL4  end,   @I_vDATAENTDFLT =  case  WHEN @I_vDATAENTDFLT is null   THEN DATAENTDFLT  ELSE @I_vDATAENTDFLT  end,  @I_vSHFTCODE =  case  WHEN @I_vSHFTCODE is null   THEN SHFTCODE  ELSE @I_vSHFTCODE  end,  @I_vPAYFACTR =   case   WHEN @I_vPAYFACTR is null   THEN PAYFACTR   ELSE @I_vPAYFACTR  end  from UPR40600 (nolock) where PAYRCORD = @I_vPAYRCORD end  if ( @I_vINACTIVE < 0 or @I_vINACTIVE > 1 )  begin  select @O_iErrorState = 4425     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vBSPAYRCD <> '' ) begin  if (not exists (select 1 from UPR40600 (nolock) where PAYRCORD = @I_vBSPAYRCD ))  begin  select @O_iErrorState = 4426     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output  end end  if ( @I_vBSPAYRCD <> '' ) begin  if (not exists (select 1 from UPR00400 (nolock) where PAYRCORD = @I_vBSPAYRCD ))  begin  select @O_iErrorState = 4427     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output  end end  if ( @PAYTYPE < 6 or @PAYTYPE > 10 ) and ( @I_vBSPAYRCD <> '' ) begin  select @O_iErrorState = 4428     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @PAYTYPE >= 6 and @PAYTYPE <= 10 ) and ( @I_vBSPAYRCD <> '' ) begin  if (not exists (select 1 from UPR40600 (nolock) where PAYRCORD = @I_vBSPAYRCD ))  begin  select @O_iErrorState = 4429     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output  end end  if ( @PAYTYPE = 3 ) and ( @I_vPAYUNIT = '' ) begin  select @O_iErrorState = 4430     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vPAYUNPER < 1 or @I_vPAYUNPER > 8 ) begin  select @O_iErrorState = 4431     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  select @DecPlaces = PAYRTDEC + 1 from UPR40200 (nolock)   if ( @PAYTYPE <> 2 and @PAYTYPE <> 11 and @PAYTYPE <> 13 ) begin  select @PAYPRPRD = 0  end   if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 1 ) and ( @I_vPAYPEROD = 1 ) begin  select @PAYPRPRD = @I_vPAYRTAMT end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 1 ) and ( @I_vPAYPEROD = 2 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 2),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 1 ) and ( @I_vPAYPEROD = 3 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 2.16667),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 1 ) and ( @I_vPAYPEROD = 4 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 4.33333),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 1 ) and ( @I_vPAYPEROD = 5 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 13),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 1 ) and ( @I_vPAYPEROD = 6 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 26),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 1 ) and ( @I_vPAYPEROD = 7 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 52),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 1 ) and ( @I_vPAYPEROD = 8 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT / 5),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 2 ) and ( @I_vPAYPEROD = 1 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT / 2),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 2 ) and ( @I_vPAYPEROD = 2 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT ),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 2 ) and ( @I_vPAYPEROD = 3 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 1.08333),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 2 ) and ( @I_vPAYPEROD = 4 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 2.16667),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 2 ) and ( @I_vPAYPEROD = 5 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 6.5),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 2 ) and ( @I_vPAYPEROD = 6 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 13),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 2 ) and ( @I_vPAYPEROD = 7 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 26),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 2 ) and ( @I_vPAYPEROD = 8 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT / 10),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 3 ) and ( @I_vPAYPEROD = 1 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * .41654),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 3 ) and ( @I_vPAYPEROD = 2 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * .92308),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 3 ) and ( @I_vPAYPEROD = 3 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 3 ) and ( @I_vPAYPEROD = 4 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 2),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 3 ) and ( @I_vPAYPEROD = 5 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 6),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 3 ) and ( @I_vPAYPEROD = 6 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 12),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 3 ) and ( @I_vPAYPEROD = 7 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 24),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 3 ) and ( @I_vPAYPEROD = 8 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * .09231),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 4 ) and ( @I_vPAYPEROD = 1 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * .23077),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 4 ) and ( @I_vPAYPEROD = 2 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * .41654),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 4 ) and ( @I_vPAYPEROD = 3 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT / 2),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 4 ) and ( @I_vPAYPEROD = 4 ) begin  select @PAYPRPRD =  round((@I_vPAYRTAMT),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 4 ) and ( @I_vPAYPEROD = 5 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 3),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 4 ) and ( @I_vPAYPEROD = 6 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 6),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 4 ) and ( @I_vPAYPEROD = 7 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 12),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 4 ) and ( @I_vPAYPEROD = 8 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * .04615),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 5 ) and ( @I_vPAYPEROD = 1 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * .07692),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 5 ) and ( @I_vPAYPEROD = 2 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * .15385),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 5 ) and ( @I_vPAYPEROD = 3 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * .16667),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 5 ) and ( @I_vPAYPEROD = 4 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * .33333),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 5 ) and ( @I_vPAYPEROD = 5 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT ),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 5 ) and ( @I_vPAYPEROD = 6 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 2),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 5 ) and ( @I_vPAYPEROD = 7 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 4),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 5 ) and ( @I_vPAYPEROD = 8 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * .01583),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 6 ) and ( @I_vPAYPEROD = 1 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * .03846),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 6 ) and ( @I_vPAYPEROD = 2 ) begin  select @PAYPRPRD =round(( @I_vPAYRTAMT * .07692),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 6 ) and ( @I_vPAYPEROD = 3 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * .08333),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 6 ) and ( @I_vPAYPEROD = 4 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * .16667),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 6 ) and ( @I_vPAYPEROD = 5 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT / 2 ),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 6 ) and ( @I_vPAYPEROD = 6 ) begin  select @PAYPRPRD =  round((@I_vPAYRTAMT),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 6 ) and ( @I_vPAYPEROD = 7 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 2),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 6 ) and ( @I_vPAYPEROD = 8 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * .00769),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 7 ) and ( @I_vPAYPEROD = 1 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * .01923),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 7 ) and ( @I_vPAYPEROD = 2 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * .03846),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 7 ) and ( @I_vPAYPEROD = 3 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT / 24),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 7 ) and ( @I_vPAYPEROD = 4 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * .08333),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 7 ) and ( @I_vPAYPEROD = 5 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT / 4),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 7 ) and ( @I_vPAYPEROD = 6 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT / 2),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 7 ) and ( @I_vPAYPEROD = 7 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 7 ) and ( @I_vPAYPEROD = 8 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * .00385),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 8 ) and ( @I_vPAYPEROD = 1 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 5),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 8 ) and ( @I_vPAYPEROD = 2 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 10),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 8 ) and ( @I_vPAYPEROD = 3 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 10.83333),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 8 ) and ( @I_vPAYPEROD = 4 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 21.66667),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 8 ) and ( @I_vPAYPEROD = 5 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 65),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 8 ) and ( @I_vPAYPEROD = 6 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 130),@DecPlaces) end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 8 ) and ( @I_vPAYPEROD = 7 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT * 260),@DecPlaces)  end  if ( @PAYTYPE = 2 or @PAYTYPE = 11 or @PAYTYPE = 13 ) and ( @I_vPAYRTAMT <> 0 ) and ( @I_vPAYUNPER = 8 ) and ( @I_vPAYPEROD = 8 ) begin  select @PAYPRPRD = round((@I_vPAYRTAMT),@DecPlaces)  end  if ( @I_vSBJTFDTX < 0 or @I_vSBJTFDTX > 1 ) begin  select @O_iErrorState = 4432     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vSBJTSSEC < 0 or @I_vSBJTSSEC > 1 ) begin  select @O_iErrorState = 4433     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vSBJTMCAR < 0 or @I_vSBJTMCAR > 1 ) begin  select @O_iErrorState = 4434     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vSBJTSTTX < 0 or @I_vSBJTSTTX > 1 ) begin  select @O_iErrorState = 2244     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vSBJTLTAX < 0 or @I_vSBJTLTAX > 1 ) begin  select @O_iErrorState = 4184     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vSBJTFUTA < 0 or @I_vSBJTFUTA > 1 ) begin  select @O_iErrorState = 4560     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vSBJTSUTA < 0 or @I_vSBJTSUTA > 1 ) begin  select @O_iErrorState = 4561     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vSBJTFDTX = 0 and @I_vSBJTSSEC = 0 and @I_vSBJTMCAR = 0 and @I_vSBJTSTTX = 0 and @I_vSBJTLTAX = 0 and @I_vSBJTFUTA = 0 and @I_vSBJTSUTA = 0 ) begin  select @TAXABLE = 0 end   if ( @I_vPAYRTAMT < 0 ) begin  select @O_iErrorState = 4435     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vSBJTFDTX = 0 ) and ( @I_vFFEDTXRT > 0 ) begin  select @O_iErrorState = 4436     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vFFEDTXRT < 0 or @I_vFFEDTXRT > 99.99 ) begin  select @O_iErrorState = 4437     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vSBJTSTTX = 0 ) and ( @I_vFLSTTXRT > 0 ) begin  select @O_iErrorState = 4438     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vFLSTTXRT < 0 or @I_vFLSTTXRT > 99.99 ) begin  select @O_iErrorState = 4439     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vSUTASTAT <> '') begin  if (not exists (select 1 from UPR41100 (nolock) where STATECD = @I_vSUTASTAT ))  begin  select @O_iErrorState = 4440     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output  end end  if ( @I_vSBJTSUTA = 1 and @I_vSUTASTAT = '' ) begin  select @O_iErrorState = 4441     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vSBJTSUTA = 0 ) begin  select @I_vSUTASTAT = '' end  if ( @I_vMXPYPPER < 0 ) begin  select @O_iErrorState = 4442     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if @PAYTYPE in (1,2,3,6,7,8,9,10,11,12,13,14,15,16) and ( @I_vMXPYPPER <> 0 )  begin  select @O_iErrorState = 4443     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vTipType < 1 or @I_vTipType > 2 )  begin  select @O_iErrorState = 4444     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @PAYTYPE < 14 or @PAYTYPE > 15 ) and ( @I_vTipType = 2 )  begin  select @O_iErrorState = 4445     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if @PAYTYPE in (1,3,5,6,7,8,9,10,11,12,13,14,15,16) and ( @I_vPAYADVNC <> 0 ) begin  select @O_iErrorState = 4446     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vACRUVACN < 0 or @I_vACRUVACN > 1 ) begin  select @O_iErrorState = 4447     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vACRUSTIM < 0 or @I_vACRUSTIM > 1 ) begin  select @O_iErrorState = 4448     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vWRKRCOMP <> '' ) begin  if (not exists (select 1 from UPR40700 (nolock) where WRKRCOMP = @I_vWRKRCOMP ))  begin  select @O_iErrorState = 4449     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output  end end   if ( @I_vRPTASWGS < 0 or @I_vRPTASWGS > 1 ) begin  select @O_iErrorState = 4450     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @PAYTYPE <> 5 and @I_vRPTASWGS <> 0 ) begin  select @O_iErrorState = 4451     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vW2BXNMBR < 0 or @I_vW2BXNMBR > 99 ) begin  select @O_iErrorState = 4452     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vW2BXNMBR2 < 0 or @I_vW2BXNMBR2 > 99 ) begin  select @O_iErrorState = 10489     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vW2BXNMBR3 < 0 or @I_vW2BXNMBR3 > 99 ) begin  select @O_iErrorState = 10490     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vW2BXNMBR4 < 0 or @I_vW2BXNMBR4 > 99 ) begin  select @O_iErrorState = 10491     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @PAYTYPE <> 5 and @I_vW2BXNMBR <> 0 )  begin  select @O_iErrorState = 4453     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @PAYTYPE <> 5 and @I_vW2BXNMBR2 <> 0 )  begin  select @O_iErrorState = 10492     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @PAYTYPE <> 5 and @I_vW2BXNMBR3 <> 0 )  begin  select @O_iErrorState = 10493     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @PAYTYPE <> 5 and @I_vW2BXNMBR4 <> 0 )  begin  select @O_iErrorState = 10494     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @PAYTYPE <> 5 and @I_vW2BXLABL <> '' ) begin  select @O_iErrorState = 4454     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @PAYTYPE <> 5 and @I_vW2BXLABL2 <> '' ) begin  select @O_iErrorState = 10495     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @PAYTYPE <> 5 and @I_vW2BXLABL3 <> '' ) begin  select @O_iErrorState = 10496     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @PAYTYPE <> 5 and @I_vW2BXLABL4 <> '' ) begin  select @O_iErrorState = 10497     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @PAYTYPE = 13 ) begin  select  @TAXABLE = 0,   @I_vSBJTFDTX = 0,  @I_vSBJTSSEC = 0,  @I_vSBJTMCAR = 0,  @I_vSBJTSTTX = 0,  @I_vSBJTLTAX = 0,  @I_vSBJTFUTA = 0,  @I_vSBJTSUTA = 0 end  if ( @I_vPYADVTKN < 0 ) begin  select @O_iErrorState = 4455     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vDATAENTDFLT < 0 or @I_vDATAENTDFLT > 1 ) begin  select @O_iErrorState = 4456     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if (@I_vPrimary_Pay_Record < 0 or @I_vPrimary_Pay_Record > 1) begin  select @O_iErrorState = 11250     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vSHFTCODE <> '' ) begin  if (not exists (select 1 from UPR41500 (nolock) where SHFTCODE = @I_vSHFTCODE ))  begin  select @O_iErrorState = 4457     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output  end  if (exists (select 1 from UPR41500 (nolock) where SHFTCODE = @I_vSHFTCODE and INACTIVE = 1))  begin  select @O_iErrorState = 9527     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output  end  end  if @PAYTYPE in (2,11,13,14,15,16) and ( @I_vSHFTCODE <> '' ) begin  select @O_iErrorState = 4458     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if (@PAYTYPE = 6 or @PAYTYPE = 7) and (@I_vBSPAYRCD <> '')  and (@I_vUseDefaultCoPayCode = 1) begin  select @BSDONRTE = PAYRTAMT from UPR40600 (nolock) where PAYRCORD = @I_vBSPAYRCD  end  else  begin  select @BSDONRTE = PAYRTAMT from UPR00400 (nolock) where PAYRCORD = @I_vBSPAYRCD and EMPLOYID = @I_vEMPLOYID end  if (@PAYTYPE = 6 or @PAYTYPE = 7) and (@I_vPAYRTAMT <> 0) and (@I_vPAYFACTR = 0 or @I_vPAYFACTR is null) and (@BSDONRTE <> 0) begin  select @I_vPAYFACTR = @I_vPAYRTAMT/@BSDONRTE end  if (@PAYTYPE = 6 or @PAYTYPE = 7) and (@I_vPAYFACTR <> 0) and (@I_vPAYRTAMT = 0 or @I_vPAYRTAMT is null)  begin  select @I_vPAYRTAMT = round(@BSDONRTE * @I_vPAYFACTR,2) end  if (@PAYTYPE = 6 or @PAYTYPE = 7) and (@I_vPAYRTAMT <> 0) and (@I_vPAYFACTR <> 0) begin  if  @I_vPAYRTAMT < (@BSDONRTE * (@I_vPAYFACTR - .005)) or @I_vPAYRTAMT > (@BSDONRTE * (@I_vPAYFACTR + .005))  begin  select @O_iErrorState = 9498     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output  end end  if (@PAYTYPE = 6 or @PAYTYPE = 7) and (@I_vPAYRTAMT = 0 and @I_vPAYFACTR = 0) begin  select  @I_vPAYFACTR = 1.50  select  @I_vPAYRTAMT = @BSDONRTE * @I_vPAYFACTR end  if ( @PAYTYPE < 6 or @PAYTYPE > 7 ) and ( @I_vPAYFACTR <> 0 )  begin  select @O_iErrorState = 5331     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vPAYFACTR < 0 or @I_vPAYFACTR > 999.99 ) begin  select @O_iErrorState = 5332     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vUpdateIfExists < 0 or @I_vUpdateIfExists > 1) begin  select @O_iErrorState = 4459     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if ( @I_vRequesterTrx < 0 or @I_vRequesterTrx > 1)  begin  select @O_iErrorState = 3687     exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output end  if @O_iErrorState <> 0  return (@O_iErrorState)  exec @iStatus = DYNAMICS..tasmGetNextNoteIndex  @I_sCompanyID   = @sCompanyID,  @I_iSQLSessionID = 0,  @I_noteincrement  = 1,  @O_mNoteIndex   = @nNextNoteIndex output,  @O_iErrorState  = @iGetNextNoteIdxErrState output select @iError = @@error if ((@iStatus <> 0) or (@iGetNextNoteIdxErrState <> 0) or (@iError <> 0)) begin  select @oErrString = rtrim(@oErrString) + ' ' + ltrim(rtrim(@iGetNextNoteIdxErrState))  select @O_iErrorState = 4460   exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @O_oErrorState output end  if not exists(select 1 from UPR00400 where EMPLOYID = @I_vEMPLOYID and PAYRCORD = @I_vPAYRCORD ) begin  insert UPR00400(  EMPLOYID,  PAYRCORD,  INACTIVE,  PAYTYPE,  BSPAYRCD,  PAYRTAMT,  PAYUNIT,  PAYUNPER,  RPTASWGS,  TAXABLE,  SBJTFDTX,  SBJTSSEC,  SBJTMCAR,  SBJTSTTX,  SBJTLTAX,  SBJTFUTA,  SBJTSUTA,  SUTASTAT,  FFEDTXRT,  FLSTTXRT,  PAYPEROD,  PAYPRPRD,  MXPYPPER,  TipType,  PAYADVNC,  ACRUVACN,  ACRUSTIM,  WRKRCOMP,  W2BXNMBR,  W2BXLABL,  PYADVTKN,  NOTEINDX,  DATAENTDFLT,  SHFTCODE,  PAYFACTR,     BSDONRTE,     PYSTPTBLID,     Base_Step_Increased_On,    Step,      Step_Effective_Date,    Step_FTE,     W2BXNMBR2,   W2BXLABL2,   W2BXNMBR3,   W2BXLABL3,   W2BXNMBR4,   W2BXLABL4  )  select  @I_vEMPLOYID,    @I_vPAYRCORD,    @I_vINACTIVE,    @PAYTYPE,    @I_vBSPAYRCD,    @I_vPAYRTAMT,    @I_vPAYUNIT,    @I_vPAYUNPER,    @I_vRPTASWGS,    @TAXABLE,    @I_vSBJTFDTX,    @I_vSBJTSSEC,    @I_vSBJTMCAR,    @I_vSBJTSTTX,    @I_vSBJTLTAX,    @I_vSBJTFUTA,    @I_vSBJTSUTA,    @I_vSUTASTAT,    @I_vFFEDTXRT * 100,   @I_vFLSTTXRT * 100,   @I_vPAYPEROD,    @PAYPRPRD,    @I_vMXPYPPER,    case      WHEN @PAYTYPE in (6,7)  THEN 0  ELSE @I_vTipType  end,   @I_vPAYADVNC,    @I_vACRUVACN,    @I_vACRUSTIM,    @I_vWRKRCOMP,    @I_vW2BXNMBR,    @I_vW2BXLABL,    @I_vPYADVTKN,    @nNextNoteIndex,   @I_vDATAENTDFLT,   @I_vSHFTCODE,    case        WHEN @PAYTYPE in (6,7)   THEN round(@I_vPAYFACTR,2)     ELSE 0  end,  case         WHEN @PAYTYPE in (6,7)  THEN @BSDONRTE   ELSE 0  end,  '',        0,       0,         '',       0,         @I_vW2BXNMBR2,     @I_vW2BXLABL2,     @I_vW2BXNMBR3,     @I_vW2BXLABL3,     @I_vW2BXNMBR4,    @I_vW2BXLABL4     if (@@error <> 0)  begin  select @O_iErrorState = 4461    exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output  end end else if ( @I_vUpdateIfExists = 1 ) begin  update UPR00400 set  INACTIVE = @I_vINACTIVE,  BSPAYRCD = @I_vBSPAYRCD,  PAYRTAMT =       case  WHEN (@PAYTYPE = 6 or @PAYTYPE = 7 ) and @I_vPAYRTAMT = 0   THEN @BSDONRTE * @I_vPAYFACTR  ELSE @I_vPAYRTAMT  end,  PAYUNIT = @I_vPAYUNIT,  PAYUNPER = @I_vPAYUNPER,  RPTASWGS =  case  WHEN @PAYTYPE <> 5  THEN 0  ELSE @I_vRPTASWGS  end ,  TAXABLE =  case  WHEN @I_vSBJTFDTX=0 and @I_vSBJTSSEC=0 and @I_vSBJTMCAR=0 and @I_vSBJTSTTX=0 and @I_vSBJTLTAX=0 and @I_vSBJTFUTA=0 and @I_vSBJTSUTA=0  THEN 0   WHEN @PAYTYPE = 13  THEN 0  ELSE 1  end,  SBJTFDTX = @I_vSBJTFDTX,  SBJTSSEC = @I_vSBJTSSEC,  SBJTMCAR = @I_vSBJTMCAR,  SBJTSTTX = @I_vSBJTSTTX,  SBJTLTAX = @I_vSBJTLTAX ,  SBJTFUTA = @I_vSBJTFUTA ,  SBJTSUTA = @I_vSBJTSUTA ,  FFEDTXRT =  case  WHEN @I_vSBJTFDTX = 0  THEN 0  ELSE @I_vFFEDTXRT * 100  end,  FLSTTXRT =  case  WHEN @I_vSBJTSTTX = 0  THEN 0  ELSE @I_vFLSTTXRT * 100  end,  PAYPEROD = @I_vPAYPEROD,  PAYPRPRD =  case  WHEN @PAYTYPE in (2,11,13)  THEN @PAYPRPRD  ELSE 0  end ,  MXPYPPER =  case  WHEN @PAYTYPE in (4,5)   THEN @I_vMXPYPPER  ELSE 0  end ,  TipType =   case  WHEN @PAYTYPE in (6,7)  THEN 0  ELSE @I_vTipType  end,  PAYADVNC =  case  WHEN @PAYTYPE in (2,4)  THEN @I_vPAYADVNC  ELSE 0  end ,  ACRUVACN = @I_vACRUVACN,  ACRUSTIM = @I_vACRUSTIM,  WRKRCOMP = @I_vWRKRCOMP,  W2BXNMBR =  case  WHEN @PAYTYPE <> 5  THEN 0  ELSE @I_vW2BXNMBR  end ,  W2BXLABL =  case  WHEN @PAYTYPE <> 5  THEN ''     ELSE @I_vW2BXLABL  end ,  W2BXNMBR2 =  case  WHEN @PAYTYPE <> 5  THEN 0  ELSE @I_vW2BXNMBR2  end ,  W2BXLABL2 =  case  WHEN @PAYTYPE <> 5  THEN ''   ELSE @I_vW2BXLABL2  end ,  W2BXNMBR3 =  case  WHEN @PAYTYPE <> 5  THEN 0  ELSE @I_vW2BXNMBR3  end ,  W2BXLABL3 =  case  WHEN @PAYTYPE <> 5  THEN ''   ELSE @I_vW2BXLABL3  end ,  W2BXNMBR4 =  case  WHEN @PAYTYPE <> 5  THEN 0  ELSE @I_vW2BXNMBR4  end ,  W2BXLABL4 =  case  WHEN @PAYTYPE <> 5  THEN ''   ELSE @I_vW2BXLABL4  end ,  PYADVTKN = @I_vPYADVTKN,  DATAENTDFLT = @I_vDATAENTDFLT,  SHFTCODE =  case  WHEN @PAYTYPE = 2  THEN ''  WHEN @PAYTYPE = 11  THEN ''  WHEN @PAYTYPE = 13  THEN ''  WHEN @PAYTYPE = 14  THEN ''  WHEN @PAYTYPE = 15  THEN ''  WHEN @PAYTYPE = 16  THEN ''  ELSE @I_vSHFTCODE  end,  PAYFACTR =   case  WHEN @PAYTYPE in (6,7)  THEN round(@I_vPAYFACTR,2)      ELSE 0  end,  BSDONRTE =   case   WHEN @PAYTYPE in (6,7)  THEN @BSDONRTE  ELSE 0  end  where EMPLOYID = @I_vEMPLOYID and PAYRCORD = @I_vPAYRCORD  if (@@error <> 0)  begin  select @O_iErrorState = 4462    exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output  end end  if (@I_vPrimary_Pay_Record = 1) begin  update UPR00100 set Primary_Pay_Record = @I_vPAYRCORD where EMPLOYID = @I_vEMPLOYID  if (@@error <> 0)  begin  select @O_iErrorState = 11251    exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @iAddCodeErrState output  end end  exec @iStatus = taCreateEmployeePayCodePost  @I_vEMPLOYID,  @I_vPAYRCORD,  @I_vINACTIVE,  @I_vBSPAYRCD,  @I_vPAYRTAMT,  @I_vPAYUNIT,  @I_vPAYUNPER,  @I_vRPTASWGS,  @I_vSBJTFDTX,  @I_vSBJTSSEC,  @I_vSBJTMCAR,  @I_vSBJTSTTX,  @I_vSBJTLTAX,  @I_vSBJTFUTA,  @I_vSBJTSUTA,  @I_vSUTASTAT,  @I_vFFEDTXRT,  @I_vFLSTTXRT,  @I_vPAYPEROD,  @I_vMXPYPPER,  @I_vTipType,  @I_vPAYADVNC,  @I_vACRUVACN,  @I_vACRUSTIM,  @I_vWRKRCOMP,  @I_vW2BXNMBR,  @I_vW2BXLABL,  @I_vW2BXNMBR2,   @I_vW2BXLABL2,   @I_vW2BXNMBR3,   @I_vW2BXLABL3,   @I_vW2BXNMBR4,   @I_vW2BXLABL4,  @I_vPYADVTKN,  @I_vDATAENTDFLT,  @I_vPrimary_Pay_Record,  @I_vSHFTCODE,  @I_vPAYFACTR,      @I_vUseDefaultCoPayCode,  @I_vUpdateIfExists,  @I_vRequesterTrx,  @I_vUSRDEFND1,  @I_vUSRDEFND2,  @I_vUSRDEFND3,  @I_vUSRDEFND4,  @I_vUSRDEFND5,  @O_iErrorState = @iCustomState output,  @oErrString = @oErrString  output select @iError = @@error if @iStatus = 0 and @iError <> 0 begin  select @iStatus = @iError end if (@iStatus <> 0) or (@iCustomState <> 0) begin  select @O_iErrorState = 4463    exec @iStatus = taUpdateString  @O_iErrorState,  @oErrString,  @oErrString output,  @O_oErrorState output  return (@O_iErrorState) end  return (@O_iErrorState)   
GO
GRANT EXECUTE ON  [dbo].[taCreateEmployeePayCode] TO [DYNGRP]
GO
