SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
 CREATE PROC [dbo].[zDP_CM20500UN_2] (@BS int, @CHEKBKID char(15), @Recond tinyint, @CHEKBKID_RS char(15), @Recond_RS tinyint, @CHEKBKID_RE char(15), @Recond_RE tinyint) AS  set nocount on IF @CHEKBKID_RS IS NULL BEGIN SELECT TOP 25  CHEKBKID, RECONUM, Recond, StmntDate, StmntBal, CUTOFFBAL, ClrdPay, ClrdDep, ClrePayAmt, ClrdDepAmt, Cleared_Difference, OUTPAYTOT, OUTDEPTOT, IINADJTOT, DECADJTOT, ASOFBAL, CUTOFDAT, GLPOSTDT, MDFUSRID, MODIFDT, CURNCYID, NOTEINDX, RCRDSTTS, Reconcile_Messages, AUDITTRAIL, DEX_ROW_ID FROM .CM20500 WHERE ( CHEKBKID = @CHEKBKID AND Recond > @Recond OR CHEKBKID > @CHEKBKID ) ORDER BY CHEKBKID ASC, Recond ASC, DEX_ROW_ID ASC END ELSE IF @CHEKBKID_RS = @CHEKBKID_RE BEGIN SELECT TOP 25  CHEKBKID, RECONUM, Recond, StmntDate, StmntBal, CUTOFFBAL, ClrdPay, ClrdDep, ClrePayAmt, ClrdDepAmt, Cleared_Difference, OUTPAYTOT, OUTDEPTOT, IINADJTOT, DECADJTOT, ASOFBAL, CUTOFDAT, GLPOSTDT, MDFUSRID, MODIFDT, CURNCYID, NOTEINDX, RCRDSTTS, Reconcile_Messages, AUDITTRAIL, DEX_ROW_ID FROM .CM20500 WHERE CHEKBKID = @CHEKBKID_RS AND Recond BETWEEN @Recond_RS AND @Recond_RE AND ( CHEKBKID = @CHEKBKID AND Recond > @Recond OR CHEKBKID > @CHEKBKID ) ORDER BY CHEKBKID ASC, Recond ASC, DEX_ROW_ID ASC END ELSE BEGIN SELECT TOP 25  CHEKBKID, RECONUM, Recond, StmntDate, StmntBal, CUTOFFBAL, ClrdPay, ClrdDep, ClrePayAmt, ClrdDepAmt, Cleared_Difference, OUTPAYTOT, OUTDEPTOT, IINADJTOT, DECADJTOT, ASOFBAL, CUTOFDAT, GLPOSTDT, MDFUSRID, MODIFDT, CURNCYID, NOTEINDX, RCRDSTTS, Reconcile_Messages, AUDITTRAIL, DEX_ROW_ID FROM .CM20500 WHERE CHEKBKID BETWEEN @CHEKBKID_RS AND @CHEKBKID_RE AND Recond BETWEEN @Recond_RS AND @Recond_RE AND ( CHEKBKID = @CHEKBKID AND Recond > @Recond OR CHEKBKID > @CHEKBKID ) ORDER BY CHEKBKID ASC, Recond ASC, DEX_ROW_ID ASC END set nocount off    
GO
GRANT EXECUTE ON  [dbo].[zDP_CM20500UN_2] TO [DYNGRP]
GO
