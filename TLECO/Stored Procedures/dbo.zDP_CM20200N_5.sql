SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
 CREATE PROC [dbo].[zDP_CM20200N_5] (@BS int, @RECONUM numeric(19,5), @CMRECNUM numeric(19,5), @RECONUM_RS numeric(19,5), @CMRECNUM_RS numeric(19,5), @RECONUM_RE numeric(19,5), @CMRECNUM_RE numeric(19,5)) AS  set nocount on IF @RECONUM_RS IS NULL BEGIN SELECT TOP 25  CMRECNUM, sRecNum, RCRDSTTS, CHEKBKID, CMTrxNum, CMTrxType, TRXDATE, GLPOSTDT, TRXAMNT, CURNCYID, CMLinkID, paidtorcvdfrom, DSCRIPTN, Recond, RECONUM, ClrdAmt, clearedate, VOIDED, VOIDDATE, VOIDPDATE, VOIDDESC, NOTEINDX, AUDITTRAIL, DEPTYPE, SOURCDOC, SRCDOCTYP, SRCDOCNUM, POSTEDDT, PTDUSRID, MODIFDT, MDFUSRID, USERDEF1, USERDEF2, ORIGAMT, Checkbook_Amount, RATETPID, EXGTBLID, XCHGRATE, EXCHDATE, TIME1, RTCLCMTD, EXPNDATE, CURRNIDX, DECPLCUR, DENXRATE, MCTRXSTT, Xfr_Record_Number, EFTFLAG, DEX_ROW_ID FROM .CM20200 WHERE ( RECONUM = @RECONUM AND CMRECNUM > @CMRECNUM OR RECONUM > @RECONUM ) ORDER BY RECONUM ASC, CMRECNUM ASC END ELSE IF @RECONUM_RS = @RECONUM_RE BEGIN SELECT TOP 25  CMRECNUM, sRecNum, RCRDSTTS, CHEKBKID, CMTrxNum, CMTrxType, TRXDATE, GLPOSTDT, TRXAMNT, CURNCYID, CMLinkID, paidtorcvdfrom, DSCRIPTN, Recond, RECONUM, ClrdAmt, clearedate, VOIDED, VOIDDATE, VOIDPDATE, VOIDDESC, NOTEINDX, AUDITTRAIL, DEPTYPE, SOURCDOC, SRCDOCTYP, SRCDOCNUM, POSTEDDT, PTDUSRID, MODIFDT, MDFUSRID, USERDEF1, USERDEF2, ORIGAMT, Checkbook_Amount, RATETPID, EXGTBLID, XCHGRATE, EXCHDATE, TIME1, RTCLCMTD, EXPNDATE, CURRNIDX, DECPLCUR, DENXRATE, MCTRXSTT, Xfr_Record_Number, EFTFLAG, DEX_ROW_ID FROM .CM20200 WHERE RECONUM = @RECONUM_RS AND CMRECNUM BETWEEN @CMRECNUM_RS AND @CMRECNUM_RE AND ( RECONUM = @RECONUM AND CMRECNUM > @CMRECNUM OR RECONUM > @RECONUM ) ORDER BY RECONUM ASC, CMRECNUM ASC END ELSE BEGIN SELECT TOP 25  CMRECNUM, sRecNum, RCRDSTTS, CHEKBKID, CMTrxNum, CMTrxType, TRXDATE, GLPOSTDT, TRXAMNT, CURNCYID, CMLinkID, paidtorcvdfrom, DSCRIPTN, Recond, RECONUM, ClrdAmt, clearedate, VOIDED, VOIDDATE, VOIDPDATE, VOIDDESC, NOTEINDX, AUDITTRAIL, DEPTYPE, SOURCDOC, SRCDOCTYP, SRCDOCNUM, POSTEDDT, PTDUSRID, MODIFDT, MDFUSRID, USERDEF1, USERDEF2, ORIGAMT, Checkbook_Amount, RATETPID, EXGTBLID, XCHGRATE, EXCHDATE, TIME1, RTCLCMTD, EXPNDATE, CURRNIDX, DECPLCUR, DENXRATE, MCTRXSTT, Xfr_Record_Number, EFTFLAG, DEX_ROW_ID FROM .CM20200 WHERE RECONUM BETWEEN @RECONUM_RS AND @RECONUM_RE AND CMRECNUM BETWEEN @CMRECNUM_RS AND @CMRECNUM_RE AND ( RECONUM = @RECONUM AND CMRECNUM > @CMRECNUM OR RECONUM > @RECONUM ) ORDER BY RECONUM ASC, CMRECNUM ASC END set nocount off    
GO
GRANT EXECUTE ON  [dbo].[zDP_CM20200N_5] TO [DYNGRP]
GO
