SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
CREATE VIEW [dbo].[FixedAssetsBooks] AS select rtrim(['Asset General Information Master'].[ASSETID]) as 'Asset ID', ['Asset General Information Master'].[ASSETIDSUF] as 'Suf', rtrim(['Asset General Information Master'].[ASSETDESC]) as 'Asset Description', rtrim(['Book Setup'].[BOOKID]) as 'Book ID', ['Asset Book Master'].[PLINSERVDATE] as 'Place in Service Date', ['Asset Book Master'].[NETBOOKVALUE] as 'Net Book Value',  ['Asset Book Master'].[AMORTIZATIONAMOUNT] as 'Amortization Amount', 'Amortization Code' = dbo.FA_FUNC_Amortization_Code(['Asset Book Master'].[AMORTIZATIONCODE]), rtrim(['Asset General Information Master'].[ASSETCLASSID]) as 'Asset Class ID', ['Asset Book Master'].[ASSETINDEX] as 'Asset Index', 'Asset Type' = dbo.FA_FUNC_Asset_Type(['Asset General Information Master'].[ASSETTYPE]), 'Averaging Convention' = dbo.FA_FUNC_Averaging_Convention(['Asset Book Master'].[AVERAGINGCONV]), ['Asset Book Master'].[BEGINRESERVE] as 'Begin Reserve', ['Asset Book Master'].[BAGINSALVAGE] as 'Begin Salvage', ['Asset Book Master'].[BEGINYEARCOST] as 'Begin Year Cost', ['Asset Book Master'].[BOOKINDX] as 'Book Index', ['Asset Book Master'].[COSTBASIS] as 'Cost Basis', ['Asset Book Master'].[COSTBFRETORDEL] as 'Cost Before Retire or Delete', ['Asset Book Master'].[CURRUNDEPRAMT] as 'Current Run Depreciation Amount', ['Asset Book Master'].[DLYDEPRRATE] as 'Daily Depreciation Rate', ['Asset Book Master'].[DATEADDED] as 'Date Added', ['Asset Book Master'].[DELETEDATE] as 'Delete Date', ['Asset Book Master'].[DEPRTODATE] as 'Depreciated to Date', ['Asset Book Master'].[DEPRTODATEBFRET] as 'Depreciated to Date Before Retire', ['Asset Book Master'].[DEPRBEGDATE] as 'Depreciation Begin Date', 'Depreciation Method' = dbo.FA_FUNC_Depreciation_Method(['Asset Book Master'].[DEPRECIATIONMETHOD]), ['Asset Book Master'].[FULLYDEPRDATE] as 'Fully Depreciated Date', rtrim(['Asset Book Master'].[FULLYDEPRFLAG]) as 'Fully Depreciated Flag', ['Asset Book Master'].[Initial_Allowance_Amount] as 'Initial Allowance Amount', ['Asset Book Master'].[Initial_Allowance_Perc]/100.00 as 'Initial Allowance Percentage', ['Asset Book Master'].[LTDDEPRAMT] as 'LTD Depreciation Amount', ['Asset Book Master'].[LASTMNTDDATE] as 'Last Maintained Date', ['Asset Book Master'].[LASTMNTDTIME] as 'Last Maintained Time', rtrim(['Asset Book Master'].[LASTMNTDUSERID]) as 'Last Maintained User ID', ['Asset Book Master'].[LASTRECALCDATE] as 'Last Recalc Date', ['Asset Book Master'].[LASTRECALCDATEFISYR] as 'Last Recalc Date Fiscal Year', rtrim(['Asset General Information Master'].[LOCATNID]) as 'Location ID', 'Luxury Automobile Indicator' = dbo.FA_FUNC_Luxury_Automobile_Indicator(['Asset Book Master'].[LUXAUTOIND]), rtrim(['Asset General Information Master'].[Master_Asset_ID]) as 'Master Asset ID', ['Asset Book Master'].[NONRECGAINLOSS] as 'Non Recognized Gain Loss', ['Asset Book Master'].[NOTEINDX] as 'Note Index', rtrim(['Asset Book Master'].[ORIGINALLIFEYEARS]) +  ' - ' + rtrim(['Asset Book Master'].[ORIGINALLIFEDAYS]) as 'Orig Life Years / Days', ['Asset Book Master'].[ORIGINALLIFEDAYS] as 'Original Life Days', ['Asset Book Master'].[ORIGINALLIFEYEARS] as 'Original Life Years', ['Asset Book Master'].[PERDEPRRATE] as 'Periodic Depreciation Rate', rtrim(['Asset General Information Master'].[Physical_Location_ID]) as 'Physical Location ID', ['Asset Book Master'].[PREVRUNDEPRAMT] as 'Previous Run Depreciation Amount', ['Asset Book Master'].[PRORATEDRETDATE] as 'Prorated Retirement Date', ['Asset Book Master'].[RECGAINLOSS] as 'Recognized Gain Loss', rtrim(['Asset Book Master'].[REMAININGLIFEYEARS]) +  ' - ' + rtrim(['Asset Book Master'].[REMAININGLIFEDAYS]) as 'Rem Life Years / Days', ['Asset Book Master'].[REMAININGLIFEDAYS] as 'Remaining Life Days', ['Asset Book Master'].[REMAININGLIFEYEARS] as 'Remaining Life Years', ['Asset Book Master'].[SALVAGEVALUE] as 'Salvage Value', ['Asset Book Master'].[SAVEDLYDEPRRATE] as 'Save Daily Depreciation Rate', ['Asset Book Master'].[SAVEPERDEPRRATE] as 'Save Periodic Depreciation Rate', ['Asset Book Master'].[SAVEYRLYDEPRRATE] as 'Save Yearly Depreciation Rate', 'Special Depreciation Allowance' = dbo.DYN_FUNC_Boolean_All(['Asset Book Master'].[SPECDEPRALLOW]-1), ['Asset Book Master'].[SPECDEPRALLOWAMT] as 'Special Depreciation Allowance Amount', ['Asset Book Master'].[SPECDEPRALLOWPCT]/100.00 as 'Special Depreciation Allowance Percentage', ['Asset Book Master'].[STLINEDEPRATRET] as 'Straight Line Depr at Retirement', rtrim(['Asset General Information Master'].[STRUCTUREID]) as 'Structure ID', ['Asset Book Master'].[SWITCHFM1AMOUNT] as 'Switch From 1 Amount', ['Asset Book Master'].[SWITCHFM1DATE] as 'Switch From 1 Date', 'Switch From 1 Method' = dbo.FA_FUNC_Switch_From_1_Method(['Asset Book Master'].[SWITCHFM1METHOD]), 'Switchover' = dbo.FA_FUNC_Switchover(['Asset Book Master'].[SWITCHOVER]), ['Asset Book Master'].[YTDDEPRAMT] as 'YTD Depreciation Amount', ['Asset Book Master'].[YRLYDEPRRATE] as 'Yearly Depreciation Rate',  'Asset Index For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=309' +dbo.dgppAssetIndex(1,['Asset Book Master'].[ASSETINDEX] )          from [FA00200] as ['Asset Book Master'] with (NOLOCK) left outer join [FA00100] as ['Asset General Information Master'] with (NOLOCK) on ['Asset Book Master'].[ASSETINDEX] = ['Asset General Information Master'].[ASSETINDEX] left outer join [FA40200] as ['Book Setup'] with (NOLOCK) on ['Asset Book Master'].[BOOKINDX] = ['Book Setup'].[BOOKINDX] 
GO
GRANT SELECT ON  [dbo].[FixedAssetsBooks] TO [DYNGRP]
GO
GRANT INSERT ON  [dbo].[FixedAssetsBooks] TO [DYNGRP]
GO
GRANT DELETE ON  [dbo].[FixedAssetsBooks] TO [DYNGRP]
GO
GRANT UPDATE ON  [dbo].[FixedAssetsBooks] TO [DYNGRP]
GO
GRANT SELECT ON  [dbo].[FixedAssetsBooks] TO [rpt_accounting manager]
GO
GRANT SELECT ON  [dbo].[FixedAssetsBooks] TO [rpt_executive]
GO
