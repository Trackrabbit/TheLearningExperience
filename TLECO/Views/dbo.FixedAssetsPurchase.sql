SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
CREATE VIEW [dbo].[FixedAssetsPurchase] AS select rtrim(['Asset General Information Master'].[ASSETID]) as 'Asset ID', ['Asset General Information Master'].[ASSETIDSUF] as 'Suf', rtrim(['Asset Purchase Master'].[PURCHDESC]) as 'Description', ['Asset Purchase Master'].[DOCDATE] as 'Date', ['Asset Purchase Master'].[Acquisition_Cost] as 'Acquisition Cost', rtrim(['Asset Purchase Master'].[VENDORID]) as 'Vendor ID',  ['Asset Purchase Master'].[FA_AP_Post_Index] as 'AP Post Index', ['Asset Purchase Master'].[Acquisition_Cost] as 'Acquisition Cost (General)', ['Asset General Information Master'].[ACQDATE] as 'Acquisition Date', rtrim(['Asset General Information Master'].[ASSETCLASSID]) as 'Asset Class ID', rtrim(['Asset General Information Master'].[ASSETDESC]) as 'Asset Description', ['Asset Purchase Master'].[ASSETINDEX] as 'Asset Index', rtrim(['Asset General Information Master'].[Asset_Label]) as 'Asset Label', ['Asset General Information Master'].[ASSETQTY] as 'Asset Quantity', 'Asset Status' = dbo.FA_FUNC_Asset_Status(['Asset General Information Master'].[ASSETSTATUS]), 'Asset Type' = dbo.FA_FUNC_Asset_Type(['Asset General Information Master'].[ASSETTYPE]), rtrim(['Asset Purchase Master'].[CURNCYID]) as 'Currency ID', ['Asset Purchase Master'].[CURRNIDX] as 'Currency Index', ['Asset General Information Master'].[ASSETCURRMAINT] as 'Current Maintenance Amount', rtrim(['Asset General Information Master'].[CUSTODIAN]) as 'Custodian', ['Asset General Information Master'].[DATEADDED] as 'Date Added', ['Asset Purchase Master'].[DENXRATE] as 'Denomination Exchange Rate', rtrim(['Asset Purchase Master'].[DOCNUMBR]) as 'Document Number', ['Asset Purchase Master'].[EXCHDATE] as 'Exchange Date', ['Asset Purchase Master'].[XCHGRATE] as 'Exchange Rate', rtrim(['Asset Purchase Master'].[EXGTBLID]) as 'Exchange Table ID', rtrim(['Asset General Information Master'].[EXTASSETDESC]) as 'Extended Description', ['Asset General Information Master'].[ASSETLTDMAINT] as 'LTD Maintenance Amount', ['Asset Purchase Master'].[LASTMNTDDATE] as 'Last Maintained Date', ['Asset Purchase Master'].[LASTMNTDTIME] as 'Last Maintained Time', rtrim(['Asset Purchase Master'].[LASTMNTDUSERID]) as 'Last Maintained User ID', ['Asset General Information Master'].[LASTMAINTDATE] as 'Last Maintenance Date', ['Asset General Information Master'].[LASTPURCHLINESEQ] as 'Last Purchase Line Sequence', rtrim(['Asset General Information Master'].[LOCATNID]) as 'Location ID', ['Asset Purchase Master'].[MCTRXSTT] as 'MC Transaction State', rtrim(['Asset General Information Master'].[MFGRNAME]) as 'Manufacturer Name', rtrim(['Asset General Information Master'].[Master_Asset_ID]) as 'Master Asset ID', rtrim(['Asset General Information Master'].[MODELNUMBER]) as 'Model Number', ['Asset General Information Master'].[NOTEINDX] as 'Note Index', ['Asset Purchase Master'].[Orig_Acquisition_Cost] as 'Originating Acquisition Cost', rtrim(['Asset General Information Master'].[PIN]) as 'PIN', rtrim(['Asset General Information Master'].[Physical_Location_ID]) as 'Physical Location ID', 'Property Type' = dbo.FA_FUNC_Property_Type(['Asset General Information Master'].[PROPTYPE]), ['Asset Purchase Master'].[PURCHLINESEQ] as 'Purchase Line Sequence', rtrim(['Asset Purchase Master'].[PORDNMBR]) as 'Purchase Order Number', rtrim(['Asset Purchase Master'].[RTCLCMTD]) as 'Rate Calculation Method', rtrim(['Asset Purchase Master'].[RATETPID]) as 'Rate Type ID', rtrim(['Asset General Information Master'].[SERLNMBR]) as 'Serial Number', rtrim(['Asset General Information Master'].[SHRTNAME]) as 'Short Name', rtrim(['Asset General Information Master'].[STRUCTUREID]) as 'Structure ID', rtrim(['Asset Purchase Master'].[TRXSORCE]) as 'TRX Source', ['Asset Purchase Master'].[TIME1] as 'Time', ['Asset General Information Master'].[Verified_Date] as 'Verified Date', rtrim(['Asset Purchase Master'].[ORCTRNUM]) as 'Voucher / Receipt Number', ['Asset General Information Master'].[WARRENTYDATE] as 'Warranty Date', ['Asset General Information Master'].[ASSETYTDMAINT] as 'YTD Maintenance Amount',  'Asset Index For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=309' +dbo.dgppAssetIndex(1,['Asset Purchase Master'].[ASSETINDEX] ), 'Vendor ID For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppVendorID(1,['Asset Purchase Master'].[VENDORID] )          from [FA01400] as ['Asset Purchase Master'] with (NOLOCK) left outer join [FA00100] as ['Asset General Information Master'] with (NOLOCK) on ['Asset Purchase Master'].[ASSETINDEX] = ['Asset General Information Master'].[ASSETINDEX] 
GO
GRANT SELECT ON  [dbo].[FixedAssetsPurchase] TO [DYNGRP]
GO
GRANT INSERT ON  [dbo].[FixedAssetsPurchase] TO [DYNGRP]
GO
GRANT DELETE ON  [dbo].[FixedAssetsPurchase] TO [DYNGRP]
GO
GRANT UPDATE ON  [dbo].[FixedAssetsPurchase] TO [DYNGRP]
GO
GRANT SELECT ON  [dbo].[FixedAssetsPurchase] TO [rpt_accounting manager]
GO
GRANT SELECT ON  [dbo].[FixedAssetsPurchase] TO [rpt_executive]
GO
