SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
CREATE VIEW [dbo].[Items] AS select rtrim(['Item Master'].[ITEMNMBR]) as 'Item Number', rtrim(['Item Master'].[ITEMDESC]) as 'Item Description', 'Item Type' = dbo.DYN_FUNC_Item_Type(['Item Master'].[ITEMTYPE]),  'ABC Code' = dbo.DYN_FUNC_ABC_Code(['Item Master'].[ABCCODE]), 'Allow Back Orders' = dbo.DYN_FUNC_Boolean_All(['Item Master'].[ALWBKORD]), rtrim(['Item Master'].[ALTITEM1]) as 'Alternate Item 1', rtrim(['Item Master'].[ALTITEM2]) as 'Alternate Item 2', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[ASMVRIDX]) as 'Assembly Variance Account Number', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[IVCOGSIX]) as 'COGS Account Number', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[CGSINFLX]) as 'COGS Inflation Account Number', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[CGSMCIDX]) as 'COGS Monetary Correction Account Number', rtrim(['Item Master'].[CNTRYORGN]) as 'Country Origin', ['Item Master'].[CREATDDT] as 'Created Date', ['Item Master'].[CURRCOST] as 'Current Cost', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[IVDMGIDX]) as 'Damaged Account Number', 'Decimal Places Currency' = dbo.DYN_FUNC_Decimal_Places_Currency(['Item Master'].[DECPLCUR]), 'Decimal Places QTYS' = dbo.DYN_FUNC_Decimal_Places_QTYS(['Item Master'].[DECPLQTY]), (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[DPSHPIDX]) as 'Drop Ship Account Number', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[IVINSVIX]) as 'In Service Account Number', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[IVINUSIX]) as 'In Use Account Number', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[IVIVINDX]) as 'Inventory Account Number', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[IVINFIDX]) as 'Inventory Inflation Account Number', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[INVMCIDX]) as 'Inventory Monetary Correction Account Number', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[IVIVOFIX]) as 'Inventory Offset Account Number', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[IVRETIDX]) as 'Inventory Returns Account Number', rtrim(['Item Master'].[ITMCLSCD]) as 'Item Class Code', rtrim(['Item Master'].[ITEMCODE]) as 'Item Code', rtrim(['Item Master'].[ITMGEDSC]) as 'Item Generic Description', ['Item Master'].[ITEMSHWT]/100.00 as 'Item Shipping Weight', rtrim(['Item Master'].[ITMSHNAM]) as 'Item Short Name', rtrim(['Item Master'].[ITMTSHID]) as 'Item Tax Schedule ID', 'Item Tracking Option' = dbo.DYN_FUNC_Item_Tracking_Option(['Item Master'].[ITMTRKOP]), 'Keep Calendar History' = dbo.DYN_FUNC_Boolean_All(['Item Master'].[KPCALHST]), 'Keep Distribution History' = dbo.DYN_FUNC_Boolean_All(['Item Master'].[KPDSTHST]), 'Keep Period History' = dbo.DYN_FUNC_Boolean_All(['Item Master'].[KPERHIST]), 'Keep Trx History' = dbo.DYN_FUNC_Boolean_All(['Item Master'].[KPTRXHST]), 'Kit COGS Account Source' = dbo.DYN_FUNC_Kit_COGS_Account_Source(['Item Master'].[KTACCTSR]), rtrim(['Item Master'].[LASTGENSN]) as 'Last Generated Serial Number', rtrim(['Item Master'].[LOCNCODE]) as 'Location Code', rtrim(['Item Master'].[LOTTYPE]) as 'Lot Type', rtrim(['Multiple Manufacture Items Master'].[MANUFACTURER]) as 'Manufacturer', rtrim(['Multiple Manufacture Items Master'].[MNFCTRITMNMBR]) as 'Manufacturer Item Number', ['Item Master'].[MSTRCDTY] as 'Master Record Type', rtrim(['Multiple Manufacture Items Master'].[ITEMDESC]) as 'Mfg. Item Description', ['Item Master'].[MODIFDT] as 'Modified Date', ['Item Master'].[NOTEINDX] as 'Note Index', rtrim(['Item Master'].[PRCLEVEL]) as 'PriceLevel', rtrim(['Item Master'].[PriceGroup]) as 'Price Group', 'Price Method' = dbo.DYN_FUNC_Price_Method(['Item Master'].[PRICMTHD]), 'Primary Mfg. Number' = dbo.DYN_FUNC_Boolean_All(['Multiple Manufacture Items Master'].[PRIMARYITEM]), (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[PINFLIDX]) as 'Purch Inflation Account Number', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[PURMCIDX]) as 'Purch Monetary Correction Account Number', rtrim(['Item Master'].[Purchase_Item_Tax_Schedu]) as 'Purchase Item Tax Schedule ID', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[PURPVIDX]) as 'Purchase Price Variance Account Number', 'Purchase Tax Options' = dbo.DYN_FUNC_Purchase_Tax_Options(['Item Master'].[Purchase_Tax_Options]), rtrim(['Item Master'].[PRCHSUOM]) as 'Purchasing U Of M', 'Revalue Inventory' = dbo.DYN_FUNC_Boolean_All(['Item Master'].[Revalue_Inventory]), (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[IVSLSIDX]) as 'Sales Account Number',  (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[IVSLDSIX]) as 'Sales Discounts Account Number', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[IVSLRNIX]) as 'Sales Returns Account Number', rtrim(['Item Master'].[SELNGUOM]) as 'Selling U Of M', ['Item Master'].[STNDCOST] as 'Standard Cost', rtrim(['Item Master'].[TCC]) as 'Tax Commodity Code', 'Tax Options' = dbo.DYN_FUNC_Tax_Options(['Item Master'].[TAXOPTNS]), ['Item Master'].[Tolerance_Percentage] as 'Tolerance Percentage', rtrim(['Item Master'].[UOMSCHDL]) as 'U Of M Schedule', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[UPPVIDX]) as 'Unrealized Purchase Price Variance Account Number', rtrim(['Item Master'].[USCATVLS_1]) as 'User Category Value 1', rtrim(['Item Master'].[USCATVLS_2]) as 'User Category Value 2', rtrim(['Item Master'].[USCATVLS_3]) as 'User Category Value 3', rtrim(['Item Master'].[USCATVLS_4]) as 'User Category Value 4', rtrim(['Item Master'].[USCATVLS_5]) as 'User Category Value 5', rtrim(['Item Master'].[USCATVLS_6]) as 'User Category Value 6', 'Valuation Method' = dbo.DYN_FUNC_Valuation_Method(['Item Master'].[VCTNMTHD]), (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Item Master'].[IVVARIDX]) as 'Variances Account Number', ['Item Master'].[WRNTYDYS] as 'Warranty Days',  'Assembly Variance Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[ASMVRIDX] ), 'COGS Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[IVCOGSIX] ), 'COGS Inflation Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[CGSINFLX] ), 'COGS Monetary Correction Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[CGSMCIDX] ),  'Damaged Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[IVDMGIDX] ), 'Drop Ship Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[DPSHPIDX] ), 'In Service Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[IVINSVIX] ), 'In Use Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[IVINUSIX] ),  'Inventory Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[IVIVINDX] ), 'Inventory Inflation Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[IVINFIDX] ), 'Inventory Monetary Correction Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[INVMCIDX] ), 'Inventory Offset Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[IVIVOFIX] ),  'Inventory Returns Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[IVRETIDX] ), 'Item Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppItemID(1,['Item Master'].[ITEMNMBR],['Item Master'].[LOCNCODE] ), 'Purch Inflation Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[PINFLIDX] ), 'Purch Monetary Correction Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[PURMCIDX] ),  'Purchase Price Variance Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[PURPVIDX] ), 'Sales Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[IVSLSIDX] ), 'Sales Discounts Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[IVSLDSIX] ), 'Sales Returns Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[IVSLRNIX] ),  'Unrealized Purchase Price Variance Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[UPPVIDX] ), 'Variances Account Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Item Master'].[IVVARIDX] ), 'Use Qty Overage Tolerance' = dbo.DYN_FUNC_Boolean_All(['Item Master'].[UseQtyOverageTolerance]), ['Item Master'].[QtyOverTolerancePercent] as 'Qty Overage Tolerance Percentage', 'Use Qty Shortage Tolerance' = dbo.DYN_FUNC_Boolean_All(['Item Master'].[UseQtyShortageTolerance]), ['Item Master'].[QtyShortTolerancePercent] as 'Qty Shortage Tolerance Percentage'    from [IV00101] as ['Item Master'] with (NOLOCK) left outer join [IV00115] as ['Multiple Manufacture Items Master'] with (NOLOCK) on ['Item Master'].[ITEMNMBR] = ['Multiple Manufacture Items Master'].[ITEMNMBR] 
GO
GRANT SELECT ON  [dbo].[Items] TO [DYNGRP]
GO
GRANT INSERT ON  [dbo].[Items] TO [DYNGRP]
GO
GRANT DELETE ON  [dbo].[Items] TO [DYNGRP]
GO
GRANT UPDATE ON  [dbo].[Items] TO [DYNGRP]
GO
GRANT SELECT ON  [dbo].[Items] TO [rpt_customer service rep]
GO
GRANT SELECT ON  [dbo].[Items] TO [rpt_executive]
GO
GRANT SELECT ON  [dbo].[Items] TO [rpt_materials manager]
GO
GRANT SELECT ON  [dbo].[Items] TO [rpt_operations manager]
GO
GRANT SELECT ON  [dbo].[Items] TO [rpt_order processor]
GO
GRANT SELECT ON  [dbo].[Items] TO [rpt_production manager]
GO
GRANT SELECT ON  [dbo].[Items] TO [rpt_purchasing agent]
GO
GRANT SELECT ON  [dbo].[Items] TO [rpt_purchasing manager]
GO
GRANT SELECT ON  [dbo].[Items] TO [rpt_sales manager]
GO
GRANT SELECT ON  [dbo].[Items] TO [rpt_shipping and receiving]
GO
GRANT SELECT ON  [dbo].[Items] TO [rpt_warehouse manager]
GO
