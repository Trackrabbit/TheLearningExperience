SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
CREATE VIEW [dbo].[FixedAssets] AS select rtrim(['Asset General Information Master'].[ASSETID]) as 'Asset ID', ['Asset General Information Master'].[ASSETIDSUF] as 'Suf', rtrim(['Asset General Information Master'].[ASSETDESC]) as 'Asset Description', rtrim(['Asset General Information Master'].[ASSETCLASSID]) as 'Asset Class ID', ['Asset General Information Master'].[ACQDATE] as 'Acquisition Date', ['Asset General Information Master'].[Acquisition_Cost] as 'Acquisition Cost (General)', rtrim(['Asset General Information Master'].[LOCATNID]) as 'Location ID',  ['Asset General Information Master'].[ASSESSEDVALUE] as 'Assessed Value', ['Asset General Information Master'].[ASSETBEGQTY] as 'Asset Begin Quantity', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Asset Account Master'].[ASSETCOSTACCTINDX]) as 'Asset Cost Acct Number (Account)', ['Asset General Information Master'].[ASSETINDEX] as 'Asset Index', ['Asset Account Master'].[ASSETINDEX] as 'Asset Index (Account)', ['Asset Insurance Master'].[ASSETINDEX] as 'Asset Index (Insurance)', ['Asset Lease Master'].[ASSETINDEX] as 'Asset Index (Lease)', ['User Data Master'].[ASSETINDEX] as 'Asset Index (User Data)', rtrim(['Asset General Information Master'].[Asset_Label]) as 'Asset Label', ['Asset General Information Master'].[ASSETQTY] as 'Asset Quantity', 'Asset Status' = dbo.FA_FUNC_Asset_Status(['Asset General Information Master'].[ASSETSTATUS]), 'Asset Type' = dbo.FA_FUNC_Asset_Type(['Asset General Information Master'].[ASSETTYPE]), (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Asset Account Master'].[CLEARINGACCTINDX]) as 'Clearing Acct Number (Account)', ['Asset General Information Master'].[ASSETCURRMAINT] as 'Current Maintenance Amount', rtrim(['Asset General Information Master'].[CUSTODIAN]) as 'Custodian', ['Asset General Information Master'].[DATEADDED] as 'Date Added', ['Asset General Information Master'].[DELETEDATE] as 'Delete Date', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Asset Account Master'].[DEPREXPACCTINDX]) as 'Depr Expense Acct Number (Account)', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Asset Account Master'].[DEPRRESVACCTINDX]) as 'Depr Reserve Acct Number (Account)', ['Asset Insurance Master'].[DEPRREPROCOST] as 'Depreciated Reproduction Cost (Insurance)', ['Asset Insurance Master'].[EXCLUSIONAMT] as 'Exclusion Amount (Insurance)', rtrim(['Asset Insurance Master'].[EXCLUSIONTYPE]) as 'Exclusion Type (Insurance)', rtrim(['Asset General Information Master'].[EXTASSETDESC]) as 'Extended Description', rtrim(['Insurance Class Setup'].[INSCLASSID]) as 'Insurance Class ID (Insurance)', ['Asset Insurance Master'].[INSCLASSINDX] as 'Insurance Class Index (Insurance)', ['Asset Insurance Master'].[INSURANCEVALUE] as 'Insurance Value (Insurance)', ['Asset Insurance Master'].[INSURANCEYEAR] as 'Insurance Year (Insurance)', ['Asset General Information Master'].[ASSETLTDMAINT] as 'LTD Maintenance Amount', ['Asset General Information Master'].[LASTMNTDDATE] as 'Last Maintained Date', ['Asset Account Master'].[LASTMNTDDATE] as 'Last Maintained Date (Account)', ['Asset Insurance Master'].[LASTMNTDDATE] as 'Last Maintained Date (Insurance)', ['Asset Lease Master'].[LASTMNTDDATE] as 'Last Maintained Date (Lease)', ['User Data Master'].[LASTMNTDDATE] as 'Last Maintained Date (User Data)', ['Asset General Information Master'].[LASTMNTDTIME] as 'Last Maintained Time', ['Asset Account Master'].[LASTMNTDTIME] as 'Last Maintained Time (Account)', ['Asset Insurance Master'].[LASTMNTDTIME] as 'Last Maintained Time (Insurance)', ['Asset Lease Master'].[LASTMNTDTIME] as 'Last Maintained Time (Lease)', ['User Data Master'].[LASTMNTDTIME] as 'Last Maintained Time (User Data)', rtrim(['Asset General Information Master'].[LASTMNTDUSERID]) as 'Last Maintained User ID', rtrim(['Asset Account Master'].[LASTMNTDUSERID]) as 'Last Maintained User ID (Account)', rtrim(['Asset Insurance Master'].[LASTMNTDUSERID]) as 'Last Maintained User ID (Insurance)', rtrim(['Asset Lease Master'].[LASTMNTDUSERID]) as 'Last Maintained User ID (Lease)', rtrim(['User Data Master'].[LASTMNTDUSERID]) as 'Last Maintained User ID (User Data)', ['Asset General Information Master'].[LASTMAINTDATE] as 'Last Maintenance Date', ['Asset General Information Master'].[LASTPURCHLINESEQ] as 'Last Purchase Line Sequence', rtrim(['Lease Company Setup'].[LEASECOMPID]) as 'Lease Company ID (Lease)', ['Asset Lease Master'].[LEASECOMPINDX] as 'Lease Company Index (Lease)', rtrim(['Asset Lease Master'].[LEASECONTRACTID]) as 'Lease Contract ID (Lease)', ['Asset Lease Master'].[LEASEENDDATE] as 'Lease End Date (Lease)', ['Asset Lease Master'].[LEASEINTRATE] as 'Lease Interest Rate (Lease)', ['Asset Lease Master'].[LEASEPAYMENT] as 'Lease Payment (Lease)', 'Lease Type (Lease)' = dbo.FA_FUNC_Lease_Type_Lease(['Asset Lease Master'].[LEASETYPE]), rtrim(['Asset General Information Master'].[MFGRNAME]) as 'Manufacturer Name', rtrim(['Asset General Information Master'].[Master_Asset_ID]) as 'Master Asset ID', rtrim(['Asset General Information Master'].[MODELNUMBER]) as 'Model Number', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Asset Account Master'].[NONRECGAINLOSSACCTINDX]) as 'Non Rec G/L Acct Number (Account)', ['Asset General Information Master'].[NOTEINDX] as 'Note Index', ['Asset Account Master'].[NOTEINDX] as 'Note Index (Account)',  ['Asset Insurance Master'].[NOTEINDX] as 'Note Index (Insurance)', ['Asset Lease Master'].[NOTEINDX] as 'Note Index (Lease)', ['User Data Master'].[NOTEINDX] as 'Note Index (User Data)', rtrim(['Asset General Information Master'].[PIN]) as 'PIN', rtrim(['Asset General Information Master'].[Physical_Location_ID]) as 'Physical Location ID', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Asset Account Master'].[PRIORYRDEPRACCTINDX]) as 'Prior Year Depr Acct Number (Account)', (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Asset Account Master'].[PROCEEDSACCTINDX]) as 'Proceeds Acct Number (Account)', 'Property Type' = dbo.FA_FUNC_Property_Type(['Asset General Information Master'].[PROPTYPE]), (select rtrim([ACTNUMST]) from [GL00105] as ['Account Index Master'] where ['Account Index Master'].[ACTINDX] = ['Asset Account Master'].[RECGAINLOSSACCTINDX]) as 'Rec G/L Acct Number (Account)', ['Asset Insurance Master'].[REPLACEMENTCOST] as 'Replacement Cost (Insurance)', ['Asset Insurance Master'].[REPROCOST] as 'Reproduction Cost (Insurance)', rtrim(['Asset General Information Master'].[SERLNMBR]) as 'Serial Number', rtrim(['Asset General Information Master'].[SHRTNAME]) as 'Short Name', rtrim(['Asset General Information Master'].[STRUCTUREID]) as 'Structure ID', rtrim(['User Data Master'].[USRFIELD10]) as 'User Field 10 (User Data)', ['User Data Master'].[USRFIELD11] as 'User Field 11 (User Data)', ['User Data Master'].[USRFIELD12] as 'User Field 12 (User Data)', ['User Data Master'].[USRFIELD13] as 'User Field 13 (User Data)', ['User Data Master'].[USRFIELD14] as 'User Field 14 (User Data)', ['User Data Master'].[USRFIELD15] as 'User Field 15 (User Data)', rtrim(['User Data Master'].[USRFIELD1]) as 'User Field 1 (User Data)', rtrim(['User Data Master'].[USRFIELD2]) as 'User Field 2 (User Data)', rtrim(['User Data Master'].[USRFIELD3]) as 'User Field 3 (User Data)', rtrim(['User Data Master'].[USRFIELD4]) as 'User Field 4 (User Data)', rtrim(['User Data Master'].[USRFIELD5]) as 'User Field 5 (User Data)', rtrim(['User Data Master'].[USRFIELD6]) as 'User Field 6 (User Data)', rtrim(['User Data Master'].[USRFIELD7]) as 'User Field 7 (User Data)', rtrim(['User Data Master'].[USRFIELD8]) as 'User Field 8 (User Data)', rtrim(['User Data Master'].[USRFIELD9]) as 'User Field 9 (User Data)', ['Asset General Information Master'].[Verified_Date] as 'Verified Date', ['Asset General Information Master'].[WARRENTYDATE] as 'Warranty Date', ['Asset General Information Master'].[ASSETYTDMAINT] as 'YTD Maintenance Amount',  'Asset Index For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=309' +dbo.dgppAssetIndex(1,['Asset General Information Master'].[ASSETINDEX] ), 'Asset Cost Acct Number (Account) For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Asset Account Master'].[ASSETCOSTACCTINDX] ), 'Clearing Acct Number (Account) For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Asset Account Master'].[CLEARINGACCTINDX] ), 'Depr Expense Acct Number (Account) For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Asset Account Master'].[DEPREXPACCTINDX] ),  'Depr Reserve Acct Number (Account) For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Asset Account Master'].[DEPRRESVACCTINDX] ), 'Non Rec G/L Acct Number (Account) For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Asset Account Master'].[NONRECGAINLOSSACCTINDX] ), 'Prior Year Depr Acct Number (Account) For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Asset Account Master'].[PRIORYRDEPRACCTINDX] ), 'Proceeds Acct Number (Account) For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Asset Account Master'].[PROCEEDSACCTINDX] ),  'Rec G/L Acct Number (Account) For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppAccountIndex(1,['Asset Account Master'].[RECGAINLOSSACCTINDX] )       from [FA00100] as ['Asset General Information Master'] with (NOLOCK) left outer join [FA00400] as ['Asset Account Master'] with (NOLOCK) on ['Asset General Information Master'].[ASSETINDEX] = ['Asset Account Master'].[ASSETINDEX] left outer join [FA00500] as ['Asset Lease Master'] with (NOLOCK) on ['Asset General Information Master'].[ASSETINDEX] = ['Asset Lease Master'].[ASSETINDEX] left outer join [FA00600] as ['Asset Insurance Master'] with (NOLOCK) on ['Asset General Information Master'].[ASSETINDEX] = ['Asset Insurance Master'].[ASSETINDEX] left outer join [FA19900] as ['User Data Master'] with (NOLOCK) on ['Asset General Information Master'].[ASSETINDEX] = ['User Data Master'].[ASSETINDEX] left outer join [FA41200] as ['Insurance Class Setup'] with (NOLOCK) on ['Asset Insurance Master'].[INSCLASSINDX] = ['Insurance Class Setup'].[INSCLASSINDX] left outer join [FA41600] as ['Lease Company Setup'] with (NOLOCK) on ['Asset Lease Master'].[LEASECOMPINDX] = ['Lease Company Setup'].[LEASECOMPINDX] 
GO
GRANT SELECT ON  [dbo].[FixedAssets] TO [DYNGRP]
GO
GRANT INSERT ON  [dbo].[FixedAssets] TO [DYNGRP]
GO
GRANT DELETE ON  [dbo].[FixedAssets] TO [DYNGRP]
GO
GRANT UPDATE ON  [dbo].[FixedAssets] TO [DYNGRP]
GO
GRANT SELECT ON  [dbo].[FixedAssets] TO [rpt_accounting manager]
GO
GRANT SELECT ON  [dbo].[FixedAssets] TO [rpt_executive]
GO
