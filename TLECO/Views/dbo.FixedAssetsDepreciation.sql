SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
CREATE VIEW [dbo].[FixedAssetsDepreciation] AS select ['Asset General Information Master'].[ASSETINDEX] as 'Asset Index', rtrim(['Asset General Information Master'].[ASSETDESC]) as 'Asset Description', 'Asset Status' = dbo.FA_FUNC_Asset_Status(['Asset General Information Master'].[ASSETSTATUS]), rtrim(['Asset General Information Master'].[ASSETID]) as 'Asset ID', ['Asset General Information Master'].[ASSETIDSUF] as 'Suf', rtrim(['Asset General Information Master'].[LOCATNID]) as 'Location ID', rtrim(['Asset General Information Master'].[ASSETCLASSID]) as 'Asset Class ID', rtrim(['Asset General Information Master'].[STRUCTUREID]) as 'Structure ID', rtrim(['Asset General Information Master'].[Asset_Label]) as 'Asset Label', rtrim(['Asset General Information Master'].[Physical_Location_ID]) as 'Physical Location ID', ['Asset Book Master'].[BOOKINDX] as 'Book Index', ['Asset Book Master'].[PLINSERVDATE] as 'Place in Service Date', 'Averaging Convention' = dbo.FA_FUNC_Averaging_Convention(['Asset Book Master'].[AVERAGINGCONV]), 'Depreciation Method' = dbo.FA_FUNC_Depreciation_Method(['Asset Book Master'].[DEPRECIATIONMETHOD]), ['Asset Book Master'].[ORIGINALLIFEYEARS] as 'Original Life Years', ['Asset Book Master'].[ORIGINALLIFEDAYS] as 'Original Life Days', ['Asset Book Master'].[REMAININGLIFEYEARS] as 'Remaining Life Years', ['Asset Book Master'].[REMAININGLIFEDAYS] as 'Remaining Life Days', 'Amortization Code' = dbo.FA_FUNC_Amortization_Code(['Asset Book Master'].[AMORTIZATIONCODE]), ['Asset Book Master'].[AMORTIZATIONAMOUNT] as 'Amortization Amount', ['Asset Book Master'].[YTDDEPRAMT] as 'YTD Depreciation Amount', ['Asset Book Master'].[LTDDEPRAMT] as 'LTD Depreciation Amount', ['Asset Book Master'].[NETBOOKVALUE] as 'Net Book Value', ['Asset Book Master'].[COSTBASIS] as 'Cost Basis', ['Asset Book Master'].[COSTBFRETORDEL] as 'Cost Before Retire or Delete', ['Asset Book Master'].[CURRUNDEPRAMT] as 'Current Run Depreciation Amount', rtrim(['Book Setup'].[BOOKID]) as 'Book ID', ['Asset Financial Detail Master'].[FAPERIOD] as 'FA Period', ['Asset Financial Detail Master'].[DEPRFROMDATE] as 'Depreciation from Date', ['Asset Financial Detail Master'].[DEPRTODATE] as 'Depreciated to Date', ['Asset Financial Detail Master'].[FAYEAR] as 'FA Year', ['Asset Financial Detail Master'].[AMOUNT] as 'Amount', 'Transaction Account Type' = dbo.FA_FUNC_Transaction_Account_Type(['Asset Financial Detail Master'].[TRANSACCTTYPE]), 'Interface to GL' = dbo.DYN_FUNC_Boolean_All(['Asset Financial Detail Master'].[INTERFACEGL]), rtrim(['Asset Financial Detail Master'].[GLINTBTCHNUM]) as 'GL Posting Batch Number', ['Asset Financial Detail Master'].[GLINTACCTINDX] as 'GL Post Acct', rtrim(['Asset Financial Detail Master'].[SOURCDOC]) as 'Source Document', 'Asset Type' = dbo.FA_FUNC_Asset_Type(['Asset General Information Master'].[ASSETTYPE]), 'Property Type' = dbo.FA_FUNC_Property_Type(['Asset General Information Master'].[PROPTYPE]), ['Asset General Information Master'].[ACQDATE] as 'Acquisition Date', ['Asset Financial Detail Master'].[FISCALYRADDED] as 'Fiscal Year Added', ['Asset Book Master'].[FULLYDEPRDATE] as 'Fully Depreciated Date', ['Asset Book Master'].[SWITCHFM1DATE] as 'Switch From 1 Date',  'Asset Index For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=309' +dbo.dgppAssetIndex(1,['Asset General Information Master'].[ASSETINDEX] )           from [FA00902] as ['Asset Financial Detail Master'] with (NOLOCK) left outer join [FA00100] as ['Asset General Information Master'] with (NOLOCK) on ['Asset Financial Detail Master'].[ASSETINDEX] = ['Asset General Information Master'].[ASSETINDEX] left outer join [FA00200] as ['Asset Book Master'] with (NOLOCK) on ['Asset Financial Detail Master'].[ASSETINDEX] = ['Asset Book Master'].[ASSETINDEX]  and ['Asset Financial Detail Master'].[BOOKINDX] = ['Asset Book Master'].[BOOKINDX] left outer join [FA40200] as ['Book Setup'] with (NOLOCK) on ['Asset Book Master'].[BOOKINDX] = ['Book Setup'].[BOOKINDX] 
GO
GRANT SELECT ON  [dbo].[FixedAssetsDepreciation] TO [DYNGRP]
GO
GRANT INSERT ON  [dbo].[FixedAssetsDepreciation] TO [DYNGRP]
GO
GRANT DELETE ON  [dbo].[FixedAssetsDepreciation] TO [DYNGRP]
GO
GRANT UPDATE ON  [dbo].[FixedAssetsDepreciation] TO [DYNGRP]
GO
GRANT SELECT ON  [dbo].[FixedAssetsDepreciation] TO [rpt_accounting manager]
GO
GRANT SELECT ON  [dbo].[FixedAssetsDepreciation] TO [rpt_executive]
GO
