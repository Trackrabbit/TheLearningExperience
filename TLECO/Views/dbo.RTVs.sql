SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
CREATE VIEW [dbo].[RTVs] AS select rtrim(['SVC_RTV_MSTR'].[RTV_Number]) as 'RTV Number', rtrim(['SVC_RTV_MSTR'].[RTV_Type]) as 'RTV Type', rtrim(['SVC_RTV_MSTR'].[RTV_Return_Status]) as 'RTV Return Status', rtrim(['SVC_RTV_MSTR'].[VRMA_Document_ID]) as 'VRMA Document ID', rtrim(['SVC_RTV_MSTR'].[RETDOCID]) as 'RMA Number', rtrim(['SVC_RTV_MSTR'].[VENDORID]) as 'Vendor ID', rtrim(['SVC_RTV_MSTR'].[VENDNAME]) as 'Vendor Name', rtrim(['SVC_RTV_MSTR'].[ADRSCODE]) as 'Address Code', ['SVC_RTV_MSTR'].[ENTDTE] as 'Entry Date', ['SVC_RTV_MSTR'].[Shipped_Date] as 'Shipped Date', ['SVC_RTV_MSTR'].[receiptdate] as 'Receipt Date', ['SVC_RTV_MSTR'].[COMPDTE] as 'Complete Date', rtrim(['SVC_RTV_MSTR'].[LOCNCODE]) as 'Location Code', ['SVC_RTV_MSTR'].[Travel_Price] as 'Travel Price', rtrim(['SVC_RTV_MSTR'].[Bill_of_Lading_Out]) as 'Bill of Landing (Out)', rtrim(['SVC_RTV_MSTR'].[Shipping_Method_Out]) as 'Shipping Method (Out)', 'Void Status' = dbo.DYN_FUNC_Void_Status(['SVC_RTV_MSTR'].[VOIDSTTS]),  rtrim(['SVC_RTV_MSTR'].[Bill_of_Lading]) as 'Bill of Landing', ['SVC_RTV_MSTR'].[COMPTME] as 'Complete Time', rtrim(['SVC_RTV_MSTR'].[CURNCYID]) as 'Currency ID', ['SVC_RTV_MSTR'].[CURRNIDX] as 'Currency Index', 'Customer Owned' = dbo.DYN_FUNC_Boolean_All(['SVC_RTV_MSTR'].[CUSTOWN]), 'Decimal Places' = dbo.DYN_FUNC_Decimal_Places_QTYS(['SVC_RTV_MSTR'].[DECPLACS]), ['SVC_RTV_MSTR'].[DENXRATE] as 'Denomination Exchange Rate', rtrim(['SVC_RTV_MSTR'].[DSCRIPTN]) as 'Description', ['SVC_RTV_MSTR'].[ENTTME] as 'Entry Time', ['SVC_RTV_MSTR'].[EXCHDATE] as 'Exchange Date', ['SVC_RTV_MSTR'].[XCHGRATE] as 'Exchange Rate', rtrim(['SVC_RTV_MSTR'].[EXGTBLID]) as 'Exchange Table ID', ['SVC_RTV_MSTR'].[Expense_Cost] as 'Expense Cost', ['SVC_RTV_MSTR'].[Expense_Price] as 'Expense Price', ['SVC_RTV_MSTR'].[EXPNDATE] as 'Expiration Date', ['SVC_RTV_MSTR'].[ISMCTRX] as 'IS MC Trx', ['SVC_RTV_MSTR'].[Labor_Cost] as 'Labor Cost', ['SVC_RTV_MSTR'].[Labor_Price] as 'Labor Price', ['SVC_RTV_MSTR'].[LNSEQNBR] as 'Line SEQ Number', rtrim(['SVC_RTV_MSTR'].[LOCCODEB]) as 'Location Code Bad', ['SVC_RTV_MSTR'].[MCTRXSTT] as 'MC Transaction State', ['SVC_RTV_MSTR'].[NOTEINDX] as 'Note Index', rtrim(['SVC_RTV_MSTR'].[OFFID]) as 'Office ID', ['SVC_RTV_MSTR'].[Originating_Expense_Cost] as 'Originating Expense Cost', ['SVC_RTV_MSTR'].[Originating_ExpensePrice] as 'Originating Expense Price', ['SVC_RTV_MSTR'].[Originating_Labor_Cost] as 'Originating Labor Cost', ['SVC_RTV_MSTR'].[Originating_Labor_Price] as 'Originating Labor Price', ['SVC_RTV_MSTR'].[Originating_Part_Cost] as 'Originating Part Cost', ['SVC_RTV_MSTR'].[Originating_Part_Price] as 'Originating Part Price', ['SVC_RTV_MSTR'].[Originating_Travel_Cost] as 'Originating Travel Cost', ['SVC_RTV_MSTR'].[Originating_Travel_Price] as 'Originating Travel Price', ['SVC_RTV_MSTR'].[Part_Cost] as 'Part Cost', ['SVC_RTV_MSTR'].[Part_Price] as 'Part Price', ['SVC_RTV_MSTR'].[PRMDATE] as 'Promised Date', ['SVC_RTV_MSTR'].[Promised_Time] as 'Promised Time', 'RTV Status' = dbo.FS_FUNC_RTV_Status(['SVC_RTV_MSTR'].[RTV_Status]), ['SVC_RTV_MSTR'].[RATECALC] as 'Rate Calc Method', rtrim(['SVC_RTV_MSTR'].[RATETPID]) as 'Rate Type ID', ['SVC_RTV_MSTR'].[Receipt_Time] as 'Receipt Time', rtrim(['SVC_RTV_MSTR'].[Ship_Address_1]) as 'Ship Address 1', rtrim(['SVC_RTV_MSTR'].[Ship_Address_2]) as 'Ship Address 2', rtrim(['SVC_RTV_MSTR'].[Ship_Address_3]) as 'Ship Address 3', rtrim(['SVC_RTV_MSTR'].[Ship_Address_Name]) as 'Ship Address Name', rtrim(['SVC_RTV_MSTR'].[Ship_City]) as 'Ship City', rtrim(['SVC_RTV_MSTR'].[Ship_Country]) as 'Ship Country', rtrim(['SVC_RTV_MSTR'].[Ship_State]) as 'Ship State', ['SVC_RTV_MSTR'].[Shipped_Time] as 'Shipped Time', rtrim(['SVC_RTV_MSTR'].[SHIPMTHD]) as 'Shipping Method', ['SVC_RTV_MSTR'].[TIME1] as 'Time', ['SVC_RTV_MSTR'].[Travel_Cost] as 'Travel Cost', rtrim(['SVC_RTV_MSTR'].[USERDEF1]) as 'User Defined 1', rtrim(['SVC_RTV_MSTR'].[USERDEF2]) as 'User Defined 2', rtrim(['SVC_RTV_MSTR'].[USRDEF03]) as 'User Defined 3', rtrim(['SVC_RTV_MSTR'].[USRDEF04]) as 'User Defined 4', rtrim(['SVC_RTV_MSTR'].[USRDEF05]) as 'User Defined 5', rtrim(['SVC_RTV_MSTR'].[USERID]) as 'User ID', ['SVC_RTV_MSTR'].[VIEWMODE] as 'View Mode', rtrim(['SVC_RTV_MSTR'].[Voucher_Number_Invoice]) as 'Voucher Number Invoice', rtrim(['SVC_RTV_MSTR'].[Voucher_Number_Reimburse]) as 'Voucher Number Reimbursement', rtrim(['SVC_RTV_MSTR'].[VCHNUMWK]) as 'Voucher Number (WORK)', rtrim(['SVC_RTV_MSTR'].[ZIPCODE]) as 'Zip Code',  'RTV Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=949' +dbo.dgppRTVNumber(1,['SVC_RTV_MSTR'].[RTV_Number],['SVC_RTV_MSTR'].[RTV_Type] ), 'Vendor ID For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppVendorID(1,['SVC_RTV_MSTR'].[VENDORID] )          from [SVC05600] as ['SVC_RTV_MSTR'] with (NOLOCK) 
GO
GRANT SELECT ON  [dbo].[RTVs] TO [DYNGRP]
GO
GRANT INSERT ON  [dbo].[RTVs] TO [DYNGRP]
GO
GRANT DELETE ON  [dbo].[RTVs] TO [DYNGRP]
GO
GRANT UPDATE ON  [dbo].[RTVs] TO [DYNGRP]
GO
GRANT SELECT ON  [dbo].[RTVs] TO [rpt_customer service rep]
GO
GRANT SELECT ON  [dbo].[RTVs] TO [rpt_dispatcher]
GO
GRANT SELECT ON  [dbo].[RTVs] TO [rpt_executive]
GO
