SET QUOTED_IDENTIFIER ON
GO
SET ANSI_NULLS ON
GO
 create view [dbo].[SVC6105V] as SELECT  SVC06105.STATIONID, SVC06001.DSCRIPTN 'STATIONDESC', SVC06105.WORECTYPE, SVC06105.WORKORDNUM, SVC06105.SEQUENCE1, SVC06105.DSCRIPTN, SVC06105.Status, 'WOStatus' = CASE WHEN SVC06105.Status = 2 then 'WIP' WHEN SVC06105.Status = 1 then  'Actual' ELSE 'Planned' END,  SVC06105.TECHID, SVC06100.WOTYPE, SVC06100.WOSTAT, SVC06100.SVC_Depot_Priority, SVC06100.OFFID, SVC06105.ETTR, SVC06105.ETADTE, SVC06105.ETATME, SVC06105.ECOMPDT, SVC06105.EComp_Time, SVC06101.STRTDATE, SVC06101.STRTTIME, SVC06101.ENDDATE, SVC06101.ENDTIME, SVC06101.TRANSTME, 'ETA' = CONVERT (char (10), SVC06105.ETADTE, 101) + ' ' + CONVERT (char (10),SVC06105.ETATME, 108), 'ECOMP' = CONVERT (char (10), SVC06105.ECOMPDT, 101) + ' ' + CONVERT (char(10), SVC06105.EComp_Time, 108), 'ACTUALSTART' = CONVERT (char (10), SVC06105.STRTDATE, 101) + ' ' + CONVERT(char (10), SVC06105.STRTTIME, 108), 'ACTUALEND' = CONVERT (char (10), SVC06105.ENDDATE, 101) + ' ' + CONVERT(char (10), SVC06105.ENDTIME, 108), 'ACTUALETTR' = DATEDIFF(minute,(CONVERT (char (10), SVC06105.STRTDATE, 101) + ' ' + CONVERT(char (10), SVC06105.STRTTIME, 108)),(CONVERT (char (10), SVC06105.ENDDATE, 101) + ' ' + CONVERT(char (10), SVC06105.ENDTIME, 108))), SVC06105.DEX_ROW_ID FROM SVC06105 LEFT OUTER JOIN SVC06100 ON (SVC06105.WORKORDNUM = SVC06100.WORKORDNUM) LEFT OUTER JOIN SVC06101 ON (SVC06105.WORKORDNUM = SVC06101.WORKORDNUM and SVC06105.WORECTYPE = SVC06101.WORECTYPE and SVC06105.STATIONID = SVC06101.STATIONID and SVC06101.LINITMTYP = 'L') LEFT OUTER JOIN SVC06001 ON (SVC06105.STATIONID = SVC06001.STATIONID) where SVC06105.Status > 2    
GO
GRANT SELECT ON  [dbo].[SVC6105V] TO [DYNGRP]
GO
GRANT INSERT ON  [dbo].[SVC6105V] TO [DYNGRP]
GO
GRANT DELETE ON  [dbo].[SVC6105V] TO [DYNGRP]
GO
GRANT UPDATE ON  [dbo].[SVC6105V] TO [DYNGRP]
GO
