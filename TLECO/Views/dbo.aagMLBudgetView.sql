SET QUOTED_IDENTIFIER ON
GO
SET ANSI_NULLS ON
GO
 create       view [dbo].[aagMLBudgetView] AS  SELECT 1 AS REPTYPE, AAG00903.aaBudgetID, AAG00903.aaBudget, AAG00903.aaBudgetDescr, AAG00903.YEAR1, AAG00900.aaBudgetTreeID, AAG00900.aaBudgetTree,   AAG00900.aaBudgetTreeDescr, AAG00901.aaTrxDimID, AAG00400.aaTrxDim, AAG00400.aaTrxDimDescr, AAG00901.aaOrder,   AAG00902.aaTrxDimCodeID, AAG00401.aaTrxDimCode, AAG00401.aaTrxDimCodeDescr, AAG00902.aaCodeSequence, AAG00902.aaLvlCodeString,   ISNULL(AAG00904.aaFiscalPeriod,0)AS aaFiscalPeriod, ISNULL(AAG00904.aaActualPriliminary,0)AS aaActualPriliminary,  ISNULL(AAG00904.Balance,0) AS Balance ,  0 AS ACTINDX, ' ' AS ACTNUMST, ' ' AS ACTDESCR,   0 AS ACCTTYPE , 0 AS PSTNGTYP FROM   AAG00900 INNER JOIN  AAG00901 ON AAG00900.aaBudgetTreeID = AAG00901.aaBudgetTreeID INNER JOIN  AAG00902 ON AAG00901.aaBudgetTreeID = AAG00902.aaBudgetTreeID INNER JOIN  AAG00400 ON AAG00901.aaTrxDimID = AAG00400.aaTrxDimID INNER JOIN  AAG00401 ON AAG00902.aaTrxDimCodeID = AAG00401.aaTrxDimCodeID AND AAG00400.aaTrxDimID = AAG00401.aaTrxDimID INNER JOIN  AAG00903 ON AAG00902.aaBudgetTreeID = AAG00903.aaBudgetTreeID FULL OUTER JOIN  AAG00904 ON AAG00903.aaBudgetID = AAG00904.aaBudgetID AND AAG00902.aaCodeSequence = AAG00904.aaCodeSequence UNION ALL SELECT 2 AS REPTYPE, AAG00903.aaBudgetID, AAG00903.aaBudget, AAG00903.aaBudgetDescr, AAG00903.YEAR1, AAG00900.aaBudgetTreeID, AAG00900.aaBudgetTree,   AAG00900.aaBudgetTreeDescr, AAG00901.aaTrxDimID, AAG00400.aaTrxDim, AAG00400.aaTrxDimDescr, AAG00901.aaOrder,   AAG00902.aaTrxDimCodeID, AAG00401.aaTrxDimCode, AAG00401.aaTrxDimCodeDescr, AAG00902.aaCodeSequence, AAG00902.aaLvlCodeString,   ISNULL(AAG00904.aaFiscalPeriod,0)AS aaFiscalPeriod, ISNULL(AAG00904.aaActualPriliminary,0)AS aaActualPriliminary,  ISNULL(AAG00904.QUANTITY,0) AS Balance,  0 AS ACTINDX, ' ' AS ACTNUMST, ' ' AS ACTDESCR,   0 AS ACCTTYPE , 0 AS PSTNGTYP FROM   AAG00900 INNER JOIN  AAG00901 ON AAG00900.aaBudgetTreeID = AAG00901.aaBudgetTreeID INNER JOIN  AAG00902 ON AAG00901.aaBudgetTreeID = AAG00902.aaBudgetTreeID INNER JOIN  AAG00400 ON AAG00901.aaTrxDimID = AAG00400.aaTrxDimID INNER JOIN  AAG00401 ON AAG00902.aaTrxDimCodeID = AAG00401.aaTrxDimCodeID AND AAG00400.aaTrxDimID = AAG00401.aaTrxDimID INNER JOIN  AAG00903 ON AAG00902.aaBudgetTreeID = AAG00903.aaBudgetTreeID FULL OUTER JOIN  AAG00904 ON AAG00903.aaBudgetID = AAG00904.aaBudgetID AND AAG00902.aaCodeSequence = AAG00904.aaCodeSequence UNION ALL SELECT 3 AS REPTYPE, AAG00903.aaBudgetID, AAG00903.aaBudget, AAG00903.aaBudgetDescr, AAG00903.YEAR1, AAG00900.aaBudgetTreeID, AAG00900.aaBudgetTree,   AAG00900.aaBudgetTreeDescr, AAG00901.aaTrxDimID, AAG00400.aaTrxDim, AAG00400.aaTrxDimDescr, AAG00901.aaOrder,   AAG00902.aaTrxDimCodeID, AAG00401.aaTrxDimCode, AAG00401.aaTrxDimCodeDescr, AAG00902.aaCodeSequence, AAG00902.aaLvlCodeString,   ISNULL(AAG00905.aaFiscalPeriod,0)AS aaFiscalPeriod, ISNULL(AAG00905.aaActualPriliminary,0)AS aaActualPriliminary,  ISNULL(AAG00905.Balance,0) AS Balance, ISNULL(AAG00905.ACTINDX,0), ISNULL(GL00105.ACTNUMST,' '), ISNULL(GL00100.ACTDESCR,' '),   ISNULL(GL00100.ACCTTYPE,0), ISNULL(GL00100.PSTNGTYP,0) FROM   AAG00900 INNER JOIN  AAG00901 ON AAG00900.aaBudgetTreeID = AAG00901.aaBudgetTreeID INNER JOIN  AAG00902 ON AAG00901.aaBudgetTreeID = AAG00902.aaBudgetTreeID INNER JOIN  AAG00400 ON AAG00901.aaTrxDimID = AAG00400.aaTrxDimID INNER JOIN  AAG00401 ON AAG00902.aaTrxDimCodeID = AAG00401.aaTrxDimCodeID AND AAG00400.aaTrxDimID = AAG00401.aaTrxDimID INNER JOIN  AAG00903 ON AAG00902.aaBudgetTreeID = AAG00903.aaBudgetTreeID FULL OUTER JOIN  GL00100 INNER JOIN  AAG00905 ON GL00100.ACTINDX = AAG00905.ACTINDX INNER JOIN  GL00105 ON GL00100.ACTINDX = GL00105.ACTINDX ON AAG00903.aaBudgetID = AAG00905.aaBudgetID AND   AAG00902.aaCodeSequence = AAG00905.aaCodeSequence    
GO
GRANT SELECT ON  [dbo].[aagMLBudgetView] TO [DYNGRP]
GO
GRANT INSERT ON  [dbo].[aagMLBudgetView] TO [DYNGRP]
GO
GRANT DELETE ON  [dbo].[aagMLBudgetView] TO [DYNGRP]
GO
GRANT UPDATE ON  [dbo].[aagMLBudgetView] TO [DYNGRP]
GO
