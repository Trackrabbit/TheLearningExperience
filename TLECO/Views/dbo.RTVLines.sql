SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO
CREATE VIEW [dbo].[RTVLines] AS select rtrim(['SVC_RTV_Line'].[RTV_Number]) as 'RTV Number', ['SVC_RTV_Line'].[RTV_Line] as 'RTV Line', rtrim(['SVC_RTV_Line'].[RTV_Type]) as 'RTV Type', 'RTV Status' = dbo.FS_FUNC_RTV_Status(['SVC_RTV_Line'].[RTV_Status]), rtrim(['SVC_RTV_Line'].[RTV_Return_Status]) as 'RTV Return Status', rtrim(['SVC_RTV_Line'].[DSCRIPTN]) as 'Description', rtrim(['SVC_RTV_Line'].[ITEMNMBR]) as 'Item Number', rtrim(['SVC_RTV_Line'].[ITEMDESC]) as 'Item Description', ['SVC_RTV_Line'].[QUANTITY] as 'QTY', ['SVC_RTV_Line'].[QTYSHPPD] as 'QTY Shipped', ['SVC_RTV_Line'].[QTYRECVD] as 'QTY Received', rtrim(['SVC_RTV_Line'].[UOFM]) as 'U Of M', rtrim(['SVC_RTV_Line'].[VENDORID]) as 'Vendor ID', rtrim(['SVC_RTV_Line'].[VNDITNUM]) as 'Vendor Item number', rtrim(['SVC_RTV_Line'].[Return_Item_Number]) as 'Return Item Number', rtrim(['SVC_RTV_Line'].[LOCCODEB]) as 'Location Code Bad', rtrim(['SVC_RTV_Line'].[LOCNCODE]) as 'Location Code', rtrim(['SVC_RTV_Line'].[ADRSCODE]) as 'Address Code', ['SVC_RTV_Line'].[ENTDTE] as 'Entry Date', ['SVC_RTV_Line'].[Shipped_Date] as 'Shipped Date', ['SVC_RTV_Line'].[COMPDTE] as 'Complete Date',  rtrim(['SVC_RTV_Line'].[Bill_of_Lading]) as 'Bill of Lading', rtrim(['SVC_RTV_Line'].[Bill_of_Lading_Out]) as 'Bill of Lading (OUT)', ['SVC_RTV_Line'].[COMPTME] as 'Complete Time', 'Customer Owned' = dbo.DYN_FUNC_Boolean_All(['SVC_RTV_Line'].[CUSTOWN]), 'Decimal Places QTYs' = dbo.DYN_FUNC_Decimal_Places_QTYS(['SVC_RTV_Line'].[DECPLQTY]), ['SVC_RTV_Line'].[ENTTME] as 'Entry Time', ['SVC_RTV_Line'].[EQPLINE] as 'Equipment Line Item Sequence', ['SVC_RTV_Line'].[Expense_Cost] as 'Expense Cost', ['SVC_RTV_Line'].[Expense_Price] as 'Expense Price', 'Item Tracking Option' = dbo.DYN_FUNC_Item_Tracking_Option(['SVC_RTV_Line'].[ITMTRKOP]), ['SVC_RTV_Line'].[Labor_Cost] as 'Labor Cost', ['SVC_RTV_Line'].[Labor_Price] as 'Labor Price', ['SVC_RTV_Line'].[LNITMSEQ] as 'Line Item Sequence', rtrim(['SVC_RTV_Line'].[LINITMTYP]) as 'Line Item Type', ['SVC_RTV_Line'].[LNSEQNBR] as 'Line SEQ Number', ['SVC_RTV_Line'].[NOTEINDX] as 'Note Index', rtrim(['SVC_RTV_Line'].[OFFID]) as 'Office ID', ['SVC_RTV_Line'].[Originating_Expense_Cost] as 'Originating Expense Cost', ['SVC_RTV_Line'].[Originating_ExpensePrice] as 'Originating Expense Price', ['SVC_RTV_Line'].[Originating_Labor_Cost] as 'Originating Labor Cost', ['SVC_RTV_Line'].[Originating_Labor_Price] as 'Originating Labor Price', ['SVC_RTV_Line'].[Originating_Part_Cost] as 'Originating Part Cost', ['SVC_RTV_Line'].[Originating_Part_Price] as 'Originating Part Price', ['SVC_RTV_Line'].[Originating_Travel_Cost] as 'Originating Travel Cost', ['SVC_RTV_Line'].[Originating_Travel_Price] as 'Originating Travel Price', rtrim(['SVC_RTV_Line'].[POPRCTNM]) as 'POP Receipt Number', ['SVC_RTV_Line'].[Part_Cost] as 'Part Cost', ['SVC_RTV_Line'].[Part_Price] as 'Part Price', ['SVC_RTV_Line'].[PRMDATE] as 'Promised Date', ['SVC_RTV_Line'].[Promised_Time] as 'Promised Time', ['SVC_RTV_Line'].[POLNSEQ] as 'Purchase Order Line SEQ', rtrim(['SVC_RTV_Line'].[PONMBRSTR]) as 'Purchase Order Number', ['SVC_RTV_Line'].[QTYCANCE] as 'QTY Canceled', ['SVC_RTV_Line'].[QTY_To_Receive] as 'QTY To Receive', rtrim(['SVC_RTV_Line'].[RETDOCID]) as 'RMA Number', ['SVC_RTV_Line'].[receiptdate] as 'Receipt Date', ['SVC_RTV_Line'].[RCPTLNNM] as 'Receipt Line Number', ['SVC_RTV_Line'].[Receipt_Time] as 'Receipt Time', rtrim(['SVC_RTV_Line'].[REFRENCE]) as 'Reference', rtrim(['SVC_RTV_Line'].[Reference2]) as 'Reference2', ['SVC_RTV_Line'].[SVC_Process_SEQ_Number] as 'SVC Process SEQ Number', rtrim(['SVC_RTV_Line'].[CALLNBR]) as 'Service Call Number', rtrim(['SVC_RTV_Line'].[Ship_Address_1]) as 'Ship Address 1', rtrim(['SVC_RTV_Line'].[Ship_Address_2]) as 'Ship Address 2', rtrim(['SVC_RTV_Line'].[Ship_Address_3]) as 'Ship Address 3', rtrim(['SVC_RTV_Line'].[Ship_Address_Name]) as 'Ship Address Name', rtrim(['SVC_RTV_Line'].[Ship_City]) as 'Ship City', rtrim(['SVC_RTV_Line'].[Ship_Country]) as 'Ship Country', rtrim(['SVC_RTV_Line'].[Ship_State]) as 'Ship State', ['SVC_RTV_Line'].[Shipped_Time] as 'Shipped Time', rtrim(['SVC_RTV_Line'].[SHIPMTHD]) as 'Shipping Method', rtrim(['SVC_RTV_Line'].[Shipping_Method_Out]) as 'Shipping Method (OUT)', rtrim(['SVC_RTV_Line'].[Tracking_Number]) as 'Tracking Number', ['SVC_RTV_Line'].[TRANSLINESEQ] as 'Transfer Line Sequence', rtrim(['SVC_RTV_Line'].[Transfer_Reference]) as 'Transfer Reference', ['SVC_RTV_Line'].[Travel_Cost] as 'Travel Cost', ['SVC_RTV_Line'].[Travel_Price] as 'Travel Price', rtrim(['SVC_RTV_Line'].[USERDEF1]) as 'User Defined 1', rtrim(['SVC_RTV_Line'].[USERDEF2]) as 'User Defined 2', rtrim(['SVC_RTV_Line'].[USRDEF03]) as 'User Defined 3', rtrim(['SVC_RTV_Line'].[USRDEF04]) as 'User Defined 4', rtrim(['SVC_RTV_Line'].[USRDEF05]) as 'User Defined 5', rtrim(['SVC_RTV_Line'].[VRMA_Document_ID]) as 'VRMA document ID', rtrim(['SVC_RTV_Line'].[Voucher_Number_Invoice]) as 'Voucher Number Invoice', rtrim(['SVC_RTV_Line'].[Voucher_Number_Reimburse]) as 'Voucher Number Reimbursement', rtrim(['SVC_RTV_Line'].[VCHNUMWK]) as 'Voucher Number (WORK)', rtrim(['SVC_RTV_Line'].[ZIPCODE]) as 'Zip Code', rtrim(['SVC_RTV_MSTR'].[VENDNAME]) as 'Vendor Name', rtrim(['SVC_Codes_RTV_Status'].[STSDESCR]) as 'Status Description',  'Item Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppItemID(1,['SVC_RTV_Line'].[ITEMNMBR],'' ), 'RTV Number For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=949' +dbo.dgppRTVNumber(1,['SVC_RTV_Line'].[RTV_Number],['SVC_RTV_Line'].[RTV_Type] ), 'Vendor ID For Drillback' = 'dgpp://DGPB/?Db=&Srv=TLEFLSQL3&Cmp=TLECO&Prod=0' +dbo.dgppVendorID(1,['SVC_RTV_Line'].[VENDORID] )          from [SVC05601] as ['SVC_RTV_Line'] with (NOLOCK) left outer join [SVC05600] as ['SVC_RTV_MSTR'] with (NOLOCK) on ['SVC_RTV_Line'].[RTV_Number] = ['SVC_RTV_MSTR'].[RTV_Number] left outer join [SVC05002] as ['SVC_Codes_RTV_Status'] with (NOLOCK) on ['SVC_RTV_Line'].[RTV_Return_Status] = ['SVC_Codes_RTV_Status'].[RTV_Return_Status] 
GO
GRANT SELECT ON  [dbo].[RTVLines] TO [DYNGRP]
GO
GRANT INSERT ON  [dbo].[RTVLines] TO [DYNGRP]
GO
GRANT DELETE ON  [dbo].[RTVLines] TO [DYNGRP]
GO
GRANT UPDATE ON  [dbo].[RTVLines] TO [DYNGRP]
GO
GRANT SELECT ON  [dbo].[RTVLines] TO [rpt_customer service rep]
GO
GRANT SELECT ON  [dbo].[RTVLines] TO [rpt_dispatcher]
GO
GRANT SELECT ON  [dbo].[RTVLines] TO [rpt_executive]
GO
