SET QUOTED_IDENTIFIER ON
GO
SET ANSI_NULLS ON
GO
 CREATE VIEW [dbo].[glWorkTransactions] as (  select   GETDATE() AS 'TRXDATE',  0 as 'JRNENTRY',  REPLICATE('X', 21) as 'DOCTYNAM',  0 as 'ACTINDX',  9999999999999.99999 as 'DEBITAMT',  9999999999999.99999 as 'CRDTAMNT',  REPLICATE('X', 11) as 'SOURCDOC',  REPLICATE('X', 13) as 'AUDITTRAIL',  REPLICATE('X', 31) as 'REFRENCE',  0 as 'SEQNUMBR',  0 as 'DCSTATUS',  0 as 'DOCTYPE',  0 as 'CURRNIDX',  9999999999999.99999 as 'RCTRXSEQ',  0 as 'QKOFSET',  0 as 'YEAR1',  0 as 'VOIDED',  9999999999999.99999 as 'NOTEINDX',  REPLICATE('X', 31) as 'STSDESCR',  0 as 'Ledger_ID',  0 as 'ORD',  REPLICATE('X', 15) as 'BACHNUMB',  REPLICATE('X', 15) as 'BCHSOURC',  GETDATE() as 'RVRSNGDT',  0 as 'InfoValue',  0 as 'MKTOPROC'  where (1 = 0)  UNION ALL  select   ['GL Transaction Work HDR'].[TRXDATE] AS 'TRXDATE',  ['GL Transaction Work LINE'].[JRNENTRY] as 'JRNENTRY',  '' as 'DOCTYNAM',  ['GL Transaction Work LINE'].[ACTINDX] as 'ACTINDX',  ['GL Transaction Work LINE'].[DEBITAMT] as 'DEBITAMT',  ['GL Transaction Work LINE'].[CRDTAMNT] as 'CRDTAMNT',  ['GL Transaction Work HDR'].[SOURCDOC] as 'SOURCDOC',  ['GL Transaction Work HDR'].[TRXSORCE] as 'AUDITTRAIL',  ['GL Transaction Work HDR'].[REFRENCE] as 'REFRENCE',  ['GL Transaction Work LINE'].[SQNCLINE] as 'SEQNUMBR',  1 as 'DCSTATUS',   1 as 'DOCTYPE',   0 as 'CURRNIDX',  0 as 'RCTRXSEQ',  0 as 'QKOFSET',  0 as 'YEAR1',  ['GL Transaction Work HDR'].[VOIDED] as 'VOIDED',  ['GL Transaction Work HDR'].[NOTEINDX] as 'NOTEINDX',  '' as 'STSDESCR',  ['GL Transaction Work HDR'].[Ledger_ID] as 'Ledger_ID',  0 as 'ORD',  ['GL Transaction Work HDR'].[BACHNUMB] as 'BACHNUMB',  ['GL Transaction Work HDR'].[BCHSOURC] as 'BCHSOURC',  ['GL Transaction Work HDR'].[RVRSNGDT] as 'RVRSNGDT',  (select dbo.syGetListInfoValue(0, 0, 0, 0, (select 1 where VOIDED = 1), 0, 0, 0, 0, 0, 0, 0)),  0 as 'MKTOPROC'   from [GL10000] as ['GL Transaction Work HDR'] with (NOLOCK)  left outer join GL10001 as ['GL Transaction Work LINE'] with (NOLOCK)   on (['GL Transaction Work HDR'].[JRNENTRY] = ['GL Transaction Work LINE'].[JRNENTRY])   where ['GL Transaction Work HDR'].[ICTRX] = 0  and  ['GL Transaction Work HDR'].[BCHSOURC] = 'GL_Normal'  UNION ALL  select   ['GL Transaction Work HDR'].[TRXDATE] AS 'TRXDATE',  ['GL Transaction Clearing Work'].[JRNENTRY] as 'JRNENTRY',  '' as 'DOCTYNAM',  ['GL Transaction Clearing Work'].[ACTINDX] as 'ACTINDX',  0.0 as 'DEBITAMT',  0.0 as 'CRDTAMNT',  ['GL Transaction Work HDR'].[SOURCDOC] as 'SOURCDOC',  ['GL Transaction Work HDR'].[TRXSORCE] as 'AUDITTRAIL',  ['GL Transaction Work HDR'].[REFRENCE] as 'REFRENCE',  ['GL Transaction Clearing Work'].[SQNCLINE] as 'SEQNUMBR',  1 as 'DCSTATUS',   3 as 'DOCTYPE',   0 as 'CURRNIDX',  0 as 'RCTRXSEQ',  1 as 'QKOFSET',  0 as 'YEAR1',  0 as 'VOIDED',  ['GL Transaction Work HDR'].[NOTEINDX] as 'NOTEINDX',  '' as 'STSDESCR',  ['GL Transaction Work HDR'].[Ledger_ID] as 'Ledger_ID',  0 as 'ORD',  ['GL Transaction Clearing Work'].[BACHNUMB] as 'BACHNUMB',  ['GL Transaction Work HDR'].[BCHSOURC] as 'BCHSOURC',  '01-01-1900' as 'RVRSNGDT',  0 as 'InfoValue',  0 as 'MKTOPROC'   from [GL10000] as ['GL Transaction Work HDR'] with (NOLOCK)  left outer join GL10002 as ['GL Transaction Clearing Work'] with (NOLOCK)   on (['GL Transaction Work HDR'].[JRNENTRY] = ['GL Transaction Clearing Work'].[JRNENTRY])   where ['GL Transaction Work HDR'].[BCHSOURC] = 'GL_Clearing'  UNION ALL  select   ['GL Transaction Work HDR'].[TRXDATE] AS 'TRXDATE',  ['GL Transaction Clearing Work'].[JRNENTRY] as 'JRNENTRY',  '' as 'DOCTYNAM',  ['GL Transaction Clearing Work'].[OFFINDX] as 'ACTINDX',  0.0 as 'DEBITAMT',  0.0 as 'CRDTAMNT',  ['GL Transaction Work HDR'].[SOURCDOC] as 'SOURCDOC',  ['GL Transaction Work HDR'].[TRXSORCE] as 'AUDITTRAIL',  ['GL Transaction Work HDR'].[REFRENCE] as 'REFRENCE',  ['GL Transaction Clearing Work'].[SQNCLINE] as 'SEQNUMBR',  1 as 'DCSTATUS',   3 as 'DOCTYPE',   0 as 'CURRNIDX',  0 as 'RCTRXSEQ',  1 as 'QKOFSET',  0 as 'YEAR1',  0 as 'VOIDED',  ['GL Transaction Work HDR'].[NOTEINDX] as 'NOTEINDX',  '' as 'STSDESCR',  ['GL Transaction Work HDR'].[Ledger_ID] as 'Ledger_ID',  0 as 'ORD',  ['GL Transaction Clearing Work'].[BACHNUMB] as 'BACHNUMB',  ['GL Transaction Work HDR'].[BCHSOURC] as 'BCHSOURC',  '01-01-1900' as 'RVRSNGDT',  0 as 'InfoValue',  0 as 'MKTOPROC'   from [GL10000] as ['GL Transaction Work HDR'] with (NOLOCK)  left outer join GL10002 as ['GL Transaction Clearing Work'] with (NOLOCK)   on (['GL Transaction Work HDR'].[JRNENTRY] = ['GL Transaction Clearing Work'].[JRNENTRY])   where ['GL Transaction Work HDR'].[BCHSOURC] = 'GL_Clearing'  UNION ALL  select   ['Quick Journal Work HDR'].[TRXDATE] AS 'TRXDATE',  ['Quick Journal Work HDR'].[JRNENTRY] as 'JRNENTRY',  '' as 'DOCTYNAM',  ['Quick Journal Work LINE'].[ACTINDX] as 'ACTINDX',  (select DEBITAMT = case  when ['Quick Journal Work LINE'].[TRXAMNT] > 0.0 then ['Quick Journal Work LINE'].[TRXAMNT]  else 0.0  end),  (select CRDTAMNT = case  when ['Quick Journal Work LINE'].[TRXAMNT] <= 0.0 then abs(['Quick Journal Work LINE'].[TRXAMNT])  else 0.0  end),  ['Quick Journal Work HDR'].[SOURCDOC] as 'SOURCDOC',  ['Quick Journal Work HDR'].[TRXSORCE] as 'AUDITTRAIL',  ['Quick Journal Work HDR'].[REFRENCE] as 'REFRENCE',  ['Quick Journal Work LINE'].[SQNCLINE] as 'SEQNUMBR',  1 as 'DCSTATUS',   2 as 'DOCTYPE',   0 as 'CURRNIDX',  0 as 'RCTRXSEQ',  1 as 'QKOFSET',  0 as 'YEAR1',  0 as 'VOIDED',  ['Quick Journal Work HDR'].[NOTEINDX] as 'NOTEINDX',  '' as 'STSDESCR',  0 as 'Ledger_ID',  0 as 'ORD',  '' as 'BACHNUMB',  '' as 'BCHSOURC',  '01-01-1900' as 'RVRSNGDT',  0 as 'InfoValue',  0 as 'MKTOPROC'   from [GL10100] as ['Quick Journal Work HDR'] with (NOLOCK)  left outer join [GL10101] as ['Quick Journal Work LINE'] with (NOLOCK)   on (['Quick Journal Work HDR'].[JRNENTRY] = ['Quick Journal Work LINE'].[JRNENTRY] and  ['Quick Journal Work HDR'].[BSNSFMID] = ['Quick Journal Work LINE'].[BSNSFMID]) )    
GO
GRANT SELECT ON  [dbo].[glWorkTransactions] TO [DYNGRP]
GO
GRANT INSERT ON  [dbo].[glWorkTransactions] TO [DYNGRP]
GO
GRANT DELETE ON  [dbo].[glWorkTransactions] TO [DYNGRP]
GO
GRANT UPDATE ON  [dbo].[glWorkTransactions] TO [DYNGRP]
GO
